/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/jquery.ripples";
exports.ids = ["vendor-chunks/jquery.ripples"];
exports.modules = {

/***/ "(ssr)/./node_modules/jquery.ripples/dist/jquery.ripples.js":
/*!************************************************************!*\
  !*** ./node_modules/jquery.ripples/dist/jquery.ripples.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

eval("/**\n * jQuery Ripples plugin v0.6.3 / https://github.com/sirxemic/jquery.ripples\n * MIT License\n * @author sirxemic / https://sirxemic.com/\n */\n\n(function (global, factory) {\n\t true ? factory(__webpack_require__(/*! jquery */ \"(ssr)/./node_modules/jquery/dist/jquery.js\")) :\n\t0;\n}(this, (function ($) { 'use strict';\n\n$ = $ && 'default' in $ ? $['default'] : $;\n\nvar gl;\r\nvar $window = $(window); // There is only one window, so why not cache the jQuery-wrapped window?\r\n\r\nfunction isPercentage(str) {\r\n\treturn str[str.length - 1] == '%';\r\n}\r\n\r\n/**\r\n *  Load a configuration of GL settings which the browser supports.\r\n *  For example:\r\n *  - not all browsers support WebGL\r\n *  - not all browsers support floating point textures\r\n *  - not all browsers support linear filtering for floating point textures\r\n *  - not all browsers support rendering to floating point textures\r\n *  - some browsers *do* support rendering to half-floating point textures instead.\r\n */\r\nfunction loadConfig() {\r\n\tvar canvas = document.createElement('canvas');\r\n\tgl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\r\n\r\n\tif (!gl) {\r\n\t\t// Browser does not support WebGL.\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// Load extensions\r\n\tvar extensions = {};\r\n\t[\r\n\t\t'OES_texture_float',\r\n\t\t'OES_texture_half_float',\r\n\t\t'OES_texture_float_linear',\r\n\t\t'OES_texture_half_float_linear'\r\n\t].forEach(function(name) {\r\n\t\tvar extension = gl.getExtension(name);\r\n\t\tif (extension) {\r\n\t\t\textensions[name] = extension;\r\n\t\t}\r\n\t});\r\n\r\n\t// If no floating point extensions are supported we can bail out early.\r\n\tif (!extensions.OES_texture_float) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tvar configs = [];\r\n\r\n\tfunction createConfig(type, glType, arrayType) {\r\n\t\tvar name = 'OES_texture_' + type,\r\n\t\t\t\tnameLinear = name + '_linear',\r\n\t\t\t\tlinearSupport = nameLinear in extensions,\r\n\t\t\t\tconfigExtensions = [name];\r\n\r\n\t\tif (linearSupport) {\r\n\t\t\tconfigExtensions.push(nameLinear);\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\ttype: glType,\r\n\t\t\tarrayType: arrayType,\r\n\t\t\tlinearSupport: linearSupport,\r\n\t\t\textensions: configExtensions\r\n\t\t};\r\n\t}\r\n\r\n\tconfigs.push(\r\n\t\tcreateConfig('float', gl.FLOAT, Float32Array)\r\n\t);\r\n\r\n\tif (extensions.OES_texture_half_float) {\r\n\t\tconfigs.push(\r\n\t\t\t// Array type should be Uint16Array, but at least on iOS that breaks. In that case we\r\n\t\t\t// just initialize the textures with data=null, instead of data=new Uint16Array(...).\r\n\t\t\t// This makes initialization a tad slower, but it's still negligible.\r\n\t\t\tcreateConfig('half_float', extensions.OES_texture_half_float.HALF_FLOAT_OES, null)\r\n\t\t);\r\n\t}\r\n\r\n\t// Setup the texture and framebuffer\r\n\tvar texture = gl.createTexture();\r\n\tvar framebuffer = gl.createFramebuffer();\r\n\r\n\tgl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\r\n\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n\r\n\t// Check for each supported texture type if rendering to it is supported\r\n\tvar config = null;\r\n\r\n\tfor (var i = 0; i < configs.length; i++) {\r\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 32, 32, 0, gl.RGBA, configs[i].type, null);\r\n\r\n\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\r\n\t\tif (gl.checkFramebufferStatus(gl.FRAMEBUFFER) === gl.FRAMEBUFFER_COMPLETE) {\r\n\t\t\tconfig = configs[i];\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\treturn config;\r\n}\r\n\r\nfunction createImageData(width, height) {\r\n\ttry {\r\n\t\treturn new ImageData(width, height);\r\n\t}\r\n\tcatch (e) {\r\n\t\t// Fallback for IE\r\n\t\tvar canvas = document.createElement('canvas');\r\n\t\treturn canvas.getContext('2d').createImageData(width, height);\r\n\t}\r\n}\r\n\r\nfunction translateBackgroundPosition(value) {\r\n\tvar parts = value.split(' ');\r\n\r\n\tif (parts.length === 1) {\r\n\t\tswitch (value) {\r\n\t\t\tcase 'center':\r\n\t\t\t\treturn ['50%', '50%'];\r\n\t\t\tcase 'top':\r\n\t\t\t\treturn ['50%', '0'];\r\n\t\t\tcase 'bottom':\r\n\t\t\t\treturn ['50%', '100%'];\r\n\t\t\tcase 'left':\r\n\t\t\t\treturn ['0', '50%'];\r\n\t\t\tcase 'right':\r\n\t\t\t\treturn ['100%', '50%'];\r\n\t\t\tdefault:\r\n\t\t\t\treturn [value, '50%'];\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\treturn parts.map(function(part) {\r\n\t\t\tswitch (value) {\r\n\t\t\t\tcase 'center':\r\n\t\t\t\t\treturn '50%';\r\n\t\t\t\tcase 'top':\r\n\t\t\t\tcase 'left':\r\n\t\t\t\t\treturn '0';\r\n\t\t\t\tcase 'right':\r\n\t\t\t\tcase 'bottom':\r\n\t\t\t\t\treturn '100%';\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn part;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction createProgram(vertexSource, fragmentSource, uniformValues) {\r\n\tfunction compileSource(type, source) {\r\n\t\tvar shader = gl.createShader(type);\r\n\t\tgl.shaderSource(shader, source);\r\n\t\tgl.compileShader(shader);\r\n\t\tif (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n\t\t\tthrow new Error('compile error: ' + gl.getShaderInfoLog(shader));\r\n\t\t}\r\n\t\treturn shader;\r\n\t}\r\n\r\n\tvar program = {};\r\n\r\n\tprogram.id = gl.createProgram();\r\n\tgl.attachShader(program.id, compileSource(gl.VERTEX_SHADER, vertexSource));\r\n\tgl.attachShader(program.id, compileSource(gl.FRAGMENT_SHADER, fragmentSource));\r\n\tgl.linkProgram(program.id);\r\n\tif (!gl.getProgramParameter(program.id, gl.LINK_STATUS)) {\r\n\t\tthrow new Error('link error: ' + gl.getProgramInfoLog(program.id));\r\n\t}\r\n\r\n\t// Fetch the uniform and attribute locations\r\n\tprogram.uniforms = {};\r\n\tprogram.locations = {};\r\n\tgl.useProgram(program.id);\r\n\tgl.enableVertexAttribArray(0);\r\n\tvar match, name, regex = /uniform (\\w+) (\\w+)/g, shaderCode = vertexSource + fragmentSource;\r\n\twhile ((match = regex.exec(shaderCode)) != null) {\r\n\t\tname = match[2];\r\n\t\tprogram.locations[name] = gl.getUniformLocation(program.id, name);\r\n\t}\r\n\r\n\treturn program;\r\n}\r\n\r\nfunction bindTexture(texture, unit) {\r\n\tgl.activeTexture(gl.TEXTURE0 + (unit || 0));\r\n\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n}\r\n\r\nfunction extractUrl(value) {\r\n\tvar urlMatch = /url\\([\"']?([^\"']*)[\"']?\\)/.exec(value);\r\n\tif (urlMatch == null) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn urlMatch[1];\r\n}\r\n\r\nfunction isDataUri(url) {\r\n\treturn url.match(/^data:/);\r\n}\r\n\r\nvar config = loadConfig();\r\nvar transparentPixels = createImageData(32, 32);\r\n\r\n// Extend the css\r\n$('head').prepend('<style>.jquery-ripples { position: relative; z-index: 0; }</style>');\r\n\r\n// RIPPLES CLASS DEFINITION\r\n// =========================\r\n\r\nvar Ripples = function (el, options) {\r\n\tvar that = this;\r\n\r\n\tthis.$el = $(el);\r\n\r\n\t// Init properties from options\r\n\tthis.interactive = options.interactive;\r\n\tthis.resolution = options.resolution;\r\n\tthis.textureDelta = new Float32Array([1 / this.resolution, 1 / this.resolution]);\r\n\r\n\tthis.perturbance = options.perturbance;\r\n\tthis.dropRadius = options.dropRadius;\r\n\r\n\tthis.crossOrigin = options.crossOrigin;\r\n\tthis.imageUrl = options.imageUrl;\r\n\r\n\t// Init WebGL canvas\r\n\tvar canvas = document.createElement('canvas');\r\n\tcanvas.width = this.$el.innerWidth();\r\n\tcanvas.height = this.$el.innerHeight();\r\n\tthis.canvas = canvas;\r\n\tthis.$canvas = $(canvas);\r\n\tthis.$canvas.css({\r\n\t\tposition: 'absolute',\r\n\t\tleft: 0,\r\n\t\ttop: 0,\r\n\t\tright: 0,\r\n\t\tbottom: 0,\r\n\t\tzIndex: -1\r\n\t});\r\n\r\n\tthis.$el.addClass('jquery-ripples').append(canvas);\r\n\tthis.context = gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\r\n\r\n\t// Load extensions\r\n\tconfig.extensions.forEach(function(name) {\r\n\t\tgl.getExtension(name);\r\n\t});\r\n\r\n\t// Auto-resize when window size changes.\r\n\tthis.updateSize = this.updateSize.bind(this);\r\n\t$(window).on('resize', this.updateSize);\r\n\r\n\t// Init rendertargets for ripple data.\r\n\tthis.textures = [];\r\n\tthis.framebuffers = [];\r\n\tthis.bufferWriteIndex = 0;\r\n\tthis.bufferReadIndex = 1;\r\n\r\n\tvar arrayType = config.arrayType;\r\n\tvar textureData = arrayType ? new arrayType(this.resolution * this.resolution * 4) : null;\r\n\r\n\tfor (var i = 0; i < 2; i++) {\r\n\t\tvar texture = gl.createTexture();\r\n\t\tvar framebuffer = gl.createFramebuffer();\r\n\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\r\n\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, config.linearSupport ? gl.LINEAR : gl.NEAREST);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, config.linearSupport ? gl.LINEAR : gl.NEAREST);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.resolution, this.resolution, 0, gl.RGBA, config.type, textureData);\r\n\r\n\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\r\n\r\n\t\tthis.textures.push(texture);\r\n\t\tthis.framebuffers.push(framebuffer);\r\n\t}\r\n\r\n\t// Init GL stuff\r\n\tthis.quad = gl.createBuffer();\r\n\tgl.bindBuffer(gl.ARRAY_BUFFER, this.quad);\r\n\tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\r\n\t\t-1, -1,\r\n\t\t+1, -1,\r\n\t\t+1, +1,\r\n\t\t-1, +1\r\n\t]), gl.STATIC_DRAW);\r\n\r\n\tthis.initShaders();\r\n\tthis.initTexture();\r\n\tthis.setTransparentTexture();\r\n\r\n\t// Load the image either from the options or CSS rules\r\n\tthis.loadImage();\r\n\r\n\t// Set correct clear color and blend mode (regular alpha blending)\r\n\tgl.clearColor(0, 0, 0, 0);\r\n\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\r\n\r\n\t// Plugin is successfully initialized!\r\n\tthis.visible = true;\r\n\tthis.running = true;\r\n\tthis.inited = true;\r\n\tthis.destroyed = false;\r\n\r\n\tthis.setupPointerEvents();\r\n\r\n\t// Init animation\r\n\tfunction step() {\r\n\t\tif (!that.destroyed) {\r\n\t\t\tthat.step();\r\n\r\n\t\t\trequestAnimationFrame(step);\r\n\t\t}\r\n\t}\r\n\r\n\trequestAnimationFrame(step);\r\n};\r\n\r\nRipples.DEFAULTS = {\r\n\timageUrl: null,\r\n\tresolution: 256,\r\n\tdropRadius: 20,\r\n\tperturbance: 0.03,\r\n\tinteractive: true,\r\n\tcrossOrigin: ''\r\n};\r\n\r\nRipples.prototype = {\r\n\r\n\t// Set up pointer (mouse + touch) events\r\n\tsetupPointerEvents: function() {\r\n\t\tvar that = this;\r\n\r\n\t\tfunction pointerEventsEnabled() {\r\n\t\t\treturn that.visible && that.running && that.interactive;\r\n\t\t}\r\n\r\n\t\tfunction dropAtPointer(pointer, big) {\r\n\t\t\tif (pointerEventsEnabled()) {\r\n\t\t\t\tthat.dropAtPointer(\r\n\t\t\t\t\tpointer,\r\n\t\t\t\t\tthat.dropRadius * (big ? 1.5 : 1),\r\n\t\t\t\t\t(big ? 0.14 : 0.01)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Start listening to pointer events\r\n\t\tthis.$el\r\n\r\n\t\t\t// Create regular, small ripples for mouse move and touch events...\r\n\t\t\t.on('mousemove.ripples', function(e) {\r\n\t\t\t\tdropAtPointer(e);\r\n\t\t\t})\r\n\t\t\t.on('touchmove.ripples touchstart.ripples', function(e) {\r\n\t\t\t\tvar touches = e.originalEvent.changedTouches;\r\n\t\t\t\tfor (var i = 0; i < touches.length; i++) {\r\n\t\t\t\t\tdropAtPointer(touches[i]);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t// ...and only a big ripple on mouse down events.\r\n\t\t\t.on('mousedown.ripples', function(e) {\r\n\t\t\t\tdropAtPointer(e, true);\r\n\t\t\t});\r\n\t},\r\n\r\n\t// Load the image either from the options or the element's CSS rules.\r\n\tloadImage: function() {\r\n\t\tvar that = this;\r\n\r\n\t\tgl = this.context;\r\n\r\n\t\tvar newImageSource = this.imageUrl ||\r\n\t\t\textractUrl(this.originalCssBackgroundImage) ||\r\n\t\t\textractUrl(this.$el.css('backgroundImage'));\r\n\r\n\t\t// If image source is unchanged, don't reload it.\r\n\t\tif (newImageSource == this.imageSource) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.imageSource = newImageSource;\r\n\r\n\t\t// Falsy source means no background.\r\n\t\tif (!this.imageSource) {\r\n\t\t\tthis.setTransparentTexture();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Load the texture from a new image.\r\n\t\tvar image = new Image;\r\n\t\timage.onload = function() {\r\n\t\t\tgl = that.context;\r\n\r\n\t\t\t// Only textures with dimensions of powers of two can have repeat wrapping.\r\n\t\t\tfunction isPowerOfTwo(x) {\r\n\t\t\t\treturn (x & (x - 1)) == 0;\r\n\t\t\t}\r\n\r\n\t\t\tvar wrapping = (isPowerOfTwo(image.width) && isPowerOfTwo(image.height)) ? gl.REPEAT : gl.CLAMP_TO_EDGE;\r\n\r\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, that.backgroundTexture);\r\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrapping);\r\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrapping);\r\n\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\r\n\r\n\t\t\tthat.backgroundWidth = image.width;\r\n\t\t\tthat.backgroundHeight = image.height;\r\n\r\n\t\t\t// Hide the background that we're replacing.\r\n\t\t\tthat.hideCssBackground();\r\n\t\t};\r\n\r\n\t\t// Fall back to a transparent texture when loading the image failed.\r\n\t\timage.onerror = function() {\r\n\t\t\tgl = that.context;\r\n\r\n\t\t\tthat.setTransparentTexture();\r\n\t\t};\r\n\r\n\t\t// Disable CORS when the image source is a data URI.\r\n\t\timage.crossOrigin = isDataUri(this.imageSource) ? null : this.crossOrigin;\r\n\r\n\t\timage.src = this.imageSource;\r\n\t},\r\n\r\n\tstep: function() {\r\n\t\tgl = this.context;\r\n\r\n\t\tif (!this.visible) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.computeTextureBoundaries();\r\n\r\n\t\tif (this.running) {\r\n\t\t\tthis.update();\r\n\t\t}\r\n\r\n\t\tthis.render();\r\n\t},\r\n\r\n\tdrawQuad: function() {\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.quad);\r\n\t\tgl.vertexAttribPointer(0, 2, gl.FLOAT, false, 0, 0);\r\n\t\tgl.drawArrays(gl.TRIANGLE_FAN, 0, 4);\r\n\t},\r\n\r\n\trender: function() {\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n\r\n\t\tgl.viewport(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n\t\tgl.enable(gl.BLEND);\r\n\t\tgl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n\t\tgl.useProgram(this.renderProgram.id);\r\n\r\n\t\tbindTexture(this.backgroundTexture, 0);\r\n\t\tbindTexture(this.textures[0], 1);\r\n\r\n\t\tgl.uniform1f(this.renderProgram.locations.perturbance, this.perturbance);\r\n\t\tgl.uniform2fv(this.renderProgram.locations.topLeft, this.renderProgram.uniforms.topLeft);\r\n\t\tgl.uniform2fv(this.renderProgram.locations.bottomRight, this.renderProgram.uniforms.bottomRight);\r\n\t\tgl.uniform2fv(this.renderProgram.locations.containerRatio, this.renderProgram.uniforms.containerRatio);\r\n\t\tgl.uniform1i(this.renderProgram.locations.samplerBackground, 0);\r\n\t\tgl.uniform1i(this.renderProgram.locations.samplerRipples, 1);\r\n\r\n\t\tthis.drawQuad();\r\n\t\tgl.disable(gl.BLEND);\r\n\t},\r\n\r\n\tupdate: function() {\r\n\t\tgl.viewport(0, 0, this.resolution, this.resolution);\r\n\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffers[this.bufferWriteIndex]);\r\n\t\tbindTexture(this.textures[this.bufferReadIndex]);\r\n\t\tgl.useProgram(this.updateProgram.id);\r\n\r\n\t\tthis.drawQuad();\r\n\r\n\t\tthis.swapBufferIndices();\r\n\t},\r\n\r\n\tswapBufferIndices: function() {\r\n\t\tthis.bufferWriteIndex = 1 - this.bufferWriteIndex;\r\n\t\tthis.bufferReadIndex = 1 - this.bufferReadIndex;\r\n\t},\r\n\r\n\tcomputeTextureBoundaries: function() {\r\n\t\tvar backgroundSize = this.$el.css('background-size');\r\n\t\tvar backgroundAttachment = this.$el.css('background-attachment');\r\n\t\tvar backgroundPosition = translateBackgroundPosition(this.$el.css('background-position'));\r\n\r\n\t\t// Here the 'container' is the element which the background adapts to\r\n\t\t// (either the chrome window or some element, depending on attachment)\r\n\t\tvar container;\r\n\t\tif (backgroundAttachment == 'fixed') {\r\n\t\t\tcontainer = { left: window.pageXOffset, top: window.pageYOffset };\r\n\t\t\tcontainer.width = $window.width();\r\n\t\t\tcontainer.height = $window.height();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tcontainer = this.$el.offset();\r\n\t\t\tcontainer.width = this.$el.innerWidth();\r\n\t\t\tcontainer.height = this.$el.innerHeight();\r\n\t\t}\r\n\r\n\t\t// TODO: background-clip\r\n\t\tif (backgroundSize == 'cover') {\r\n\t\t\tvar scale = Math.max(container.width / this.backgroundWidth, container.height / this.backgroundHeight);\r\n\r\n\t\t\tvar backgroundWidth = this.backgroundWidth * scale;\r\n\t\t\tvar backgroundHeight = this.backgroundHeight * scale;\r\n\t\t}\r\n\t\telse if (backgroundSize == 'contain') {\r\n\t\t\tvar scale = Math.min(container.width / this.backgroundWidth, container.height / this.backgroundHeight);\r\n\r\n\t\t\tvar backgroundWidth = this.backgroundWidth * scale;\r\n\t\t\tvar backgroundHeight = this.backgroundHeight * scale;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbackgroundSize = backgroundSize.split(' ');\r\n\t\t\tvar backgroundWidth = backgroundSize[0] || '';\r\n\t\t\tvar backgroundHeight = backgroundSize[1] || backgroundWidth;\r\n\r\n\t\t\tif (isPercentage(backgroundWidth)) {\r\n\t\t\t\tbackgroundWidth = container.width * parseFloat(backgroundWidth) / 100;\r\n\t\t\t}\r\n\t\t\telse if (backgroundWidth != 'auto') {\r\n\t\t\t\tbackgroundWidth = parseFloat(backgroundWidth);\r\n\t\t\t}\r\n\r\n\t\t\tif (isPercentage(backgroundHeight)) {\r\n\t\t\t\tbackgroundHeight = container.height * parseFloat(backgroundHeight) / 100;\r\n\t\t\t}\r\n\t\t\telse if (backgroundHeight != 'auto') {\r\n\t\t\t\tbackgroundHeight = parseFloat(backgroundHeight);\r\n\t\t\t}\r\n\r\n\t\t\tif (backgroundWidth == 'auto' && backgroundHeight == 'auto') {\r\n\t\t\t\tbackgroundWidth = this.backgroundWidth;\r\n\t\t\t\tbackgroundHeight = this.backgroundHeight;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (backgroundWidth == 'auto') {\r\n\t\t\t\t\tbackgroundWidth = this.backgroundWidth * (backgroundHeight / this.backgroundHeight);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (backgroundHeight == 'auto') {\r\n\t\t\t\t\tbackgroundHeight = this.backgroundHeight * (backgroundWidth / this.backgroundWidth);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Compute backgroundX and backgroundY in page coordinates\r\n\t\tvar backgroundX = backgroundPosition[0];\r\n\t\tvar backgroundY = backgroundPosition[1];\r\n\r\n\t\tif (isPercentage(backgroundX)) {\r\n\t\t\tbackgroundX = container.left + (container.width - backgroundWidth) * parseFloat(backgroundX) / 100;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbackgroundX = container.left + parseFloat(backgroundX);\r\n\t\t}\r\n\r\n\t\tif (isPercentage(backgroundY)) {\r\n\t\t\tbackgroundY = container.top + (container.height - backgroundHeight) * parseFloat(backgroundY) / 100;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbackgroundY = container.top + parseFloat(backgroundY);\r\n\t\t}\r\n\r\n\t\tvar elementOffset = this.$el.offset();\r\n\r\n\t\tthis.renderProgram.uniforms.topLeft = new Float32Array([\r\n\t\t\t(elementOffset.left - backgroundX) / backgroundWidth,\r\n\t\t\t(elementOffset.top - backgroundY) / backgroundHeight\r\n\t\t]);\r\n\t\tthis.renderProgram.uniforms.bottomRight = new Float32Array([\r\n\t\t\tthis.renderProgram.uniforms.topLeft[0] + this.$el.innerWidth() / backgroundWidth,\r\n\t\t\tthis.renderProgram.uniforms.topLeft[1] + this.$el.innerHeight() / backgroundHeight\r\n\t\t]);\r\n\r\n\t\tvar maxSide = Math.max(this.canvas.width, this.canvas.height);\r\n\r\n\t\tthis.renderProgram.uniforms.containerRatio = new Float32Array([\r\n\t\t\tthis.canvas.width / maxSide,\r\n\t\t\tthis.canvas.height / maxSide\r\n\t\t]);\r\n\t},\r\n\r\n\tinitShaders: function() {\r\n\t\tvar vertexShader = [\r\n\t\t\t'attribute vec2 vertex;',\r\n\t\t\t'varying vec2 coord;',\r\n\t\t\t'void main() {',\r\n\t\t\t\t'coord = vertex * 0.5 + 0.5;',\r\n\t\t\t\t'gl_Position = vec4(vertex, 0.0, 1.0);',\r\n\t\t\t'}'\r\n\t\t].join('\\n');\r\n\r\n\t\tthis.dropProgram = createProgram(vertexShader, [\r\n\t\t\t'precision highp float;',\r\n\r\n\t\t\t'const float PI = 3.141592653589793;',\r\n\t\t\t'uniform sampler2D texture;',\r\n\t\t\t'uniform vec2 center;',\r\n\t\t\t'uniform float radius;',\r\n\t\t\t'uniform float strength;',\r\n\r\n\t\t\t'varying vec2 coord;',\r\n\r\n\t\t\t'void main() {',\r\n\t\t\t\t'vec4 info = texture2D(texture, coord);',\r\n\r\n\t\t\t\t'float drop = max(0.0, 1.0 - length(center * 0.5 + 0.5 - coord) / radius);',\r\n\t\t\t\t'drop = 0.5 - cos(drop * PI) * 0.5;',\r\n\r\n\t\t\t\t'info.r += drop * strength;',\r\n\r\n\t\t\t\t'gl_FragColor = info;',\r\n\t\t\t'}'\r\n\t\t].join('\\n'));\r\n\r\n\t\tthis.updateProgram = createProgram(vertexShader, [\r\n\t\t\t'precision highp float;',\r\n\r\n\t\t\t'uniform sampler2D texture;',\r\n\t\t\t'uniform vec2 delta;',\r\n\r\n\t\t\t'varying vec2 coord;',\r\n\r\n\t\t\t'void main() {',\r\n\t\t\t\t'vec4 info = texture2D(texture, coord);',\r\n\r\n\t\t\t\t'vec2 dx = vec2(delta.x, 0.0);',\r\n\t\t\t\t'vec2 dy = vec2(0.0, delta.y);',\r\n\r\n\t\t\t\t'float average = (',\r\n\t\t\t\t\t'texture2D(texture, coord - dx).r +',\r\n\t\t\t\t\t'texture2D(texture, coord - dy).r +',\r\n\t\t\t\t\t'texture2D(texture, coord + dx).r +',\r\n\t\t\t\t\t'texture2D(texture, coord + dy).r',\r\n\t\t\t\t') * 0.25;',\r\n\r\n\t\t\t\t'info.g += (average - info.r) * 2.0;',\r\n\t\t\t\t'info.g *= 0.995;',\r\n\t\t\t\t'info.r += info.g;',\r\n\r\n\t\t\t\t'gl_FragColor = info;',\r\n\t\t\t'}'\r\n\t\t].join('\\n'));\r\n\t\tgl.uniform2fv(this.updateProgram.locations.delta, this.textureDelta);\r\n\r\n\t\tthis.renderProgram = createProgram([\r\n\t\t\t'precision highp float;',\r\n\r\n\t\t\t'attribute vec2 vertex;',\r\n\t\t\t'uniform vec2 topLeft;',\r\n\t\t\t'uniform vec2 bottomRight;',\r\n\t\t\t'uniform vec2 containerRatio;',\r\n\t\t\t'varying vec2 ripplesCoord;',\r\n\t\t\t'varying vec2 backgroundCoord;',\r\n\t\t\t'void main() {',\r\n\t\t\t\t'backgroundCoord = mix(topLeft, bottomRight, vertex * 0.5 + 0.5);',\r\n\t\t\t\t'backgroundCoord.y = 1.0 - backgroundCoord.y;',\r\n\t\t\t\t'ripplesCoord = vec2(vertex.x, -vertex.y) * containerRatio * 0.5 + 0.5;',\r\n\t\t\t\t'gl_Position = vec4(vertex.x, -vertex.y, 0.0, 1.0);',\r\n\t\t\t'}'\r\n\t\t].join('\\n'), [\r\n\t\t\t'precision highp float;',\r\n\r\n\t\t\t'uniform sampler2D samplerBackground;',\r\n\t\t\t'uniform sampler2D samplerRipples;',\r\n\t\t\t'uniform vec2 delta;',\r\n\r\n\t\t\t'uniform float perturbance;',\r\n\t\t\t'varying vec2 ripplesCoord;',\r\n\t\t\t'varying vec2 backgroundCoord;',\r\n\r\n\t\t\t'void main() {',\r\n\t\t\t\t'float height = texture2D(samplerRipples, ripplesCoord).r;',\r\n\t\t\t\t'float heightX = texture2D(samplerRipples, vec2(ripplesCoord.x + delta.x, ripplesCoord.y)).r;',\r\n\t\t\t\t'float heightY = texture2D(samplerRipples, vec2(ripplesCoord.x, ripplesCoord.y + delta.y)).r;',\r\n\t\t\t\t'vec3 dx = vec3(delta.x, heightX - height, 0.0);',\r\n\t\t\t\t'vec3 dy = vec3(0.0, heightY - height, delta.y);',\r\n\t\t\t\t'vec2 offset = -normalize(cross(dy, dx)).xz;',\r\n\t\t\t\t'float specular = pow(max(0.0, dot(offset, normalize(vec2(-0.6, 1.0)))), 4.0);',\r\n\t\t\t\t'gl_FragColor = texture2D(samplerBackground, backgroundCoord + offset * perturbance) + specular;',\r\n\t\t\t'}'\r\n\t\t].join('\\n'));\r\n\t\tgl.uniform2fv(this.renderProgram.locations.delta, this.textureDelta);\r\n\t},\r\n\r\n\tinitTexture: function() {\r\n\t\tthis.backgroundTexture = gl.createTexture();\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, this.backgroundTexture);\r\n\t\tgl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, 1);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n\t},\r\n\r\n\tsetTransparentTexture: function() {\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, this.backgroundTexture);\r\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, transparentPixels);\r\n\t},\r\n\r\n\thideCssBackground: function() {\r\n\r\n\t\t// Check whether we're changing inline CSS or overriding a global CSS rule.\r\n\t\tvar inlineCss = this.$el[0].style.backgroundImage;\r\n\r\n\t\tif (inlineCss == 'none') {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.originalInlineCss = inlineCss;\r\n\r\n\t\tthis.originalCssBackgroundImage = this.$el.css('backgroundImage');\r\n\t\tthis.$el.css('backgroundImage', 'none');\r\n\t},\r\n\r\n\trestoreCssBackground: function() {\r\n\r\n\t\t// Restore background by either changing the inline CSS rule to what it was, or\r\n\t\t// simply remove the inline CSS rule if it never was inlined.\r\n\t\tthis.$el.css('backgroundImage', this.originalInlineCss || '');\r\n\t},\r\n\r\n\tdropAtPointer: function(pointer, radius, strength) {\r\n\t\tvar borderLeft = parseInt(this.$el.css('border-left-width')) || 0,\r\n\t\t\t\tborderTop = parseInt(this.$el.css('border-top-width')) || 0;\r\n\r\n\t\tthis.drop(\r\n\t\t\tpointer.pageX - this.$el.offset().left - borderLeft,\r\n\t\t\tpointer.pageY - this.$el.offset().top - borderTop,\r\n\t\t\tradius,\r\n\t\t\tstrength\r\n\t\t);\r\n\t},\r\n\r\n\t/**\r\n\t *  Public methods\r\n\t */\r\n\tdrop: function(x, y, radius, strength) {\r\n\t\tgl = this.context;\r\n\r\n\t\tvar elWidth = this.$el.innerWidth();\r\n\t\tvar elHeight = this.$el.innerHeight();\r\n\t\tvar longestSide = Math.max(elWidth, elHeight);\r\n\r\n\t\tradius = radius / longestSide;\r\n\r\n\t\tvar dropPosition = new Float32Array([\r\n\t\t\t(2 * x - elWidth) / longestSide,\r\n\t\t\t(elHeight - 2 * y) / longestSide\r\n\t\t]);\r\n\r\n\t\tgl.viewport(0, 0, this.resolution, this.resolution);\r\n\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffers[this.bufferWriteIndex]);\r\n\t\tbindTexture(this.textures[this.bufferReadIndex]);\r\n\r\n\t\tgl.useProgram(this.dropProgram.id);\r\n\t\tgl.uniform2fv(this.dropProgram.locations.center, dropPosition);\r\n\t\tgl.uniform1f(this.dropProgram.locations.radius, radius);\r\n\t\tgl.uniform1f(this.dropProgram.locations.strength, strength);\r\n\r\n\t\tthis.drawQuad();\r\n\r\n\t\tthis.swapBufferIndices();\r\n\t},\r\n\r\n\tupdateSize: function() {\r\n\t\tvar newWidth = this.$el.innerWidth(),\r\n\t\t\t\tnewHeight = this.$el.innerHeight();\r\n\r\n\t\tif (newWidth != this.canvas.width || newHeight != this.canvas.height) {\r\n\t\t\tthis.canvas.width = newWidth;\r\n\t\t\tthis.canvas.height = newHeight;\r\n\t\t}\r\n\t},\r\n\r\n\tdestroy: function() {\r\n\t\tthis.$el\r\n\t\t\t.off('.ripples')\r\n\t\t\t.removeClass('jquery-ripples')\r\n\t\t\t.removeData('ripples');\r\n\r\n\t\t// Make sure the last used context is garbage-collected\r\n\t\tgl = null;\r\n\r\n\t\t$(window).off('resize', this.updateSize);\r\n\r\n\t\tthis.$canvas.remove();\r\n\t\tthis.restoreCssBackground();\r\n\r\n\t\tthis.destroyed = true;\r\n\t},\r\n\r\n\tshow: function() {\r\n\t\tthis.visible = true;\r\n\r\n\t\tthis.$canvas.show();\r\n\t\tthis.hideCssBackground();\r\n\t},\r\n\r\n\thide: function() {\r\n\t\tthis.visible = false;\r\n\r\n\t\tthis.$canvas.hide();\r\n\t\tthis.restoreCssBackground();\r\n\t},\r\n\r\n\tpause: function() {\r\n\t\tthis.running = false;\r\n\t},\r\n\r\n\tplay: function() {\r\n\t\tthis.running = true;\r\n\t},\r\n\r\n\tset: function(property, value) {\r\n\t\tswitch (property) {\r\n\t\t\tcase 'dropRadius':\r\n\t\t\tcase 'perturbance':\r\n\t\t\tcase 'interactive':\r\n\t\t\tcase 'crossOrigin':\r\n\t\t\t\tthis[property] = value;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'imageUrl':\r\n\t\t\t\tthis.imageUrl = value;\r\n\t\t\t\tthis.loadImage();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// RIPPLES PLUGIN DEFINITION\r\n// ==========================\r\n\r\nvar old = $.fn.ripples;\r\n\r\n$.fn.ripples = function(option) {\r\n\tif (!config) {\r\n\t\tthrow new Error('Your browser does not support WebGL, the OES_texture_float extension or rendering to floating point textures.');\r\n\t}\r\n\r\n\tvar args = (arguments.length > 1) ? Array.prototype.slice.call(arguments, 1) : undefined;\r\n\r\n\treturn this.each(function() {\r\n\t\tvar $this = $(this),\r\n\t\t\t\tdata = $this.data('ripples'),\r\n\t\t\t\toptions = $.extend({}, Ripples.DEFAULTS, $this.data(), typeof option == 'object' && option);\r\n\r\n\t\tif (!data && typeof option == 'string') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!data) {\r\n\t\t\t$this.data('ripples', (data = new Ripples(this, options)));\r\n\t\t}\r\n\t\telse if (typeof option == 'string') {\r\n\t\t\tRipples.prototype[option].apply(data, args);\r\n\t\t}\r\n\t});\r\n};\r\n\r\n$.fn.ripples.Constructor = Ripples;\r\n\r\n\r\n// RIPPLES NO CONFLICT\r\n// ====================\r\n\r\n$.fn.ripples.noConflict = function() {\r\n\t$.fn.ripples = old;\r\n\treturn this;\r\n};\n\n})));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LnJpcHBsZXMvZGlzdC9qcXVlcnkucmlwcGxlcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQyxLQUE0RCxXQUFXLG1CQUFPLENBQUMsMERBQVE7QUFDeEYsQ0FBQyxDQUNtQjtBQUNwQixDQUFDLHVCQUF1Qjs7QUFFeEI7O0FBRUE7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG9CQUFvQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxvQkFBb0IsYUFBYTtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxvQkFBb0Isb0JBQW9CO0FBQ3hDO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQix1QkFBdUI7QUFDdkIsaUJBQWlCO0FBQ2pCLGdDQUFnQztBQUNoQywwQ0FBMEM7QUFDMUMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBLHVDQUF1QztBQUN2Qyw4QkFBOEI7QUFDOUIsd0JBQXdCO0FBQ3hCLHlCQUF5QjtBQUN6QiwyQkFBMkI7QUFDM0I7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQSxpQkFBaUI7QUFDakIsMkNBQTJDO0FBQzNDO0FBQ0EsOEVBQThFO0FBQzlFLHVDQUF1QztBQUN2QztBQUNBLCtCQUErQjtBQUMvQjtBQUNBLHlCQUF5QjtBQUN6QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0EsOEJBQThCO0FBQzlCLHVCQUF1QjtBQUN2QjtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBLGlCQUFpQjtBQUNqQiwyQ0FBMkM7QUFDM0M7QUFDQSxrQ0FBa0M7QUFDbEMsa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBLHdDQUF3QztBQUN4QyxxQkFBcUI7QUFDckIsc0JBQXNCO0FBQ3RCO0FBQ0EseUJBQXlCO0FBQ3pCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBLDBCQUEwQjtBQUMxQix5QkFBeUI7QUFDekIsNkJBQTZCO0FBQzdCLGdDQUFnQztBQUNoQyw4QkFBOEI7QUFDOUIsaUNBQWlDO0FBQ2pDLGlCQUFpQjtBQUNqQixxRUFBcUU7QUFDckUsaURBQWlEO0FBQ2pELDJFQUEyRTtBQUMzRSx1REFBdUQ7QUFDdkQsS0FBSztBQUNMO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0Esd0NBQXdDO0FBQ3hDLHFDQUFxQztBQUNyQyx1QkFBdUI7QUFDdkI7QUFDQSw4QkFBOEI7QUFDOUIsOEJBQThCO0FBQzlCLGlDQUFpQztBQUNqQztBQUNBLGlCQUFpQjtBQUNqQiw4REFBOEQ7QUFDOUQsaUdBQWlHO0FBQ2pHLGlHQUFpRztBQUNqRyxvREFBb0Q7QUFDcEQsb0RBQW9EO0FBQ3BELGdEQUFnRDtBQUNoRCxrRkFBa0Y7QUFDbEYsb0dBQW9HO0FBQ3BHLEtBQUs7QUFDTDtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3dtLXBvb2wtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LnJpcHBsZXMvZGlzdC9qcXVlcnkucmlwcGxlcy5qcz81NDQ1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogalF1ZXJ5IFJpcHBsZXMgcGx1Z2luIHYwLjYuMyAvIGh0dHBzOi8vZ2l0aHViLmNvbS9zaXJ4ZW1pYy9qcXVlcnkucmlwcGxlc1xuICogTUlUIExpY2Vuc2VcbiAqIEBhdXRob3Igc2lyeGVtaWMgLyBodHRwczovL3NpcnhlbWljLmNvbS9cbiAqL1xuXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHR0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2pxdWVyeSddLCBmYWN0b3J5KSA6XG5cdChmYWN0b3J5KGdsb2JhbC4kKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoJCkgeyAndXNlIHN0cmljdCc7XG5cbiQgPSAkICYmICdkZWZhdWx0JyBpbiAkID8gJFsnZGVmYXVsdCddIDogJDtcblxudmFyIGdsO1xyXG52YXIgJHdpbmRvdyA9ICQod2luZG93KTsgLy8gVGhlcmUgaXMgb25seSBvbmUgd2luZG93LCBzbyB3aHkgbm90IGNhY2hlIHRoZSBqUXVlcnktd3JhcHBlZCB3aW5kb3c/XHJcblxyXG5mdW5jdGlvbiBpc1BlcmNlbnRhZ2Uoc3RyKSB7XHJcblx0cmV0dXJuIHN0cltzdHIubGVuZ3RoIC0gMV0gPT0gJyUnO1xyXG59XHJcblxyXG4vKipcclxuICogIExvYWQgYSBjb25maWd1cmF0aW9uIG9mIEdMIHNldHRpbmdzIHdoaWNoIHRoZSBicm93c2VyIHN1cHBvcnRzLlxyXG4gKiAgRm9yIGV4YW1wbGU6XHJcbiAqICAtIG5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCBXZWJHTFxyXG4gKiAgLSBub3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgZmxvYXRpbmcgcG9pbnQgdGV4dHVyZXNcclxuICogIC0gbm90IGFsbCBicm93c2VycyBzdXBwb3J0IGxpbmVhciBmaWx0ZXJpbmcgZm9yIGZsb2F0aW5nIHBvaW50IHRleHR1cmVzXHJcbiAqICAtIG5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCByZW5kZXJpbmcgdG8gZmxvYXRpbmcgcG9pbnQgdGV4dHVyZXNcclxuICogIC0gc29tZSBicm93c2VycyAqZG8qIHN1cHBvcnQgcmVuZGVyaW5nIHRvIGhhbGYtZmxvYXRpbmcgcG9pbnQgdGV4dHVyZXMgaW5zdGVhZC5cclxuICovXHJcbmZ1bmN0aW9uIGxvYWRDb25maWcoKSB7XHJcblx0dmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG5cdGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJykgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcpO1xyXG5cclxuXHRpZiAoIWdsKSB7XHJcblx0XHQvLyBCcm93c2VyIGRvZXMgbm90IHN1cHBvcnQgV2ViR0wuXHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdC8vIExvYWQgZXh0ZW5zaW9uc1xyXG5cdHZhciBleHRlbnNpb25zID0ge307XHJcblx0W1xyXG5cdFx0J09FU190ZXh0dXJlX2Zsb2F0JyxcclxuXHRcdCdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0JyxcclxuXHRcdCdPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXInLFxyXG5cdFx0J09FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyJ1xyXG5cdF0uZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XHJcblx0XHR2YXIgZXh0ZW5zaW9uID0gZ2wuZ2V0RXh0ZW5zaW9uKG5hbWUpO1xyXG5cdFx0aWYgKGV4dGVuc2lvbikge1xyXG5cdFx0XHRleHRlbnNpb25zW25hbWVdID0gZXh0ZW5zaW9uO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHQvLyBJZiBubyBmbG9hdGluZyBwb2ludCBleHRlbnNpb25zIGFyZSBzdXBwb3J0ZWQgd2UgY2FuIGJhaWwgb3V0IGVhcmx5LlxyXG5cdGlmICghZXh0ZW5zaW9ucy5PRVNfdGV4dHVyZV9mbG9hdCkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHR2YXIgY29uZmlncyA9IFtdO1xyXG5cclxuXHRmdW5jdGlvbiBjcmVhdGVDb25maWcodHlwZSwgZ2xUeXBlLCBhcnJheVR5cGUpIHtcclxuXHRcdHZhciBuYW1lID0gJ09FU190ZXh0dXJlXycgKyB0eXBlLFxyXG5cdFx0XHRcdG5hbWVMaW5lYXIgPSBuYW1lICsgJ19saW5lYXInLFxyXG5cdFx0XHRcdGxpbmVhclN1cHBvcnQgPSBuYW1lTGluZWFyIGluIGV4dGVuc2lvbnMsXHJcblx0XHRcdFx0Y29uZmlnRXh0ZW5zaW9ucyA9IFtuYW1lXTtcclxuXHJcblx0XHRpZiAobGluZWFyU3VwcG9ydCkge1xyXG5cdFx0XHRjb25maWdFeHRlbnNpb25zLnB1c2gobmFtZUxpbmVhcik7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dHlwZTogZ2xUeXBlLFxyXG5cdFx0XHRhcnJheVR5cGU6IGFycmF5VHlwZSxcclxuXHRcdFx0bGluZWFyU3VwcG9ydDogbGluZWFyU3VwcG9ydCxcclxuXHRcdFx0ZXh0ZW5zaW9uczogY29uZmlnRXh0ZW5zaW9uc1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdGNvbmZpZ3MucHVzaChcclxuXHRcdGNyZWF0ZUNvbmZpZygnZmxvYXQnLCBnbC5GTE9BVCwgRmxvYXQzMkFycmF5KVxyXG5cdCk7XHJcblxyXG5cdGlmIChleHRlbnNpb25zLk9FU190ZXh0dXJlX2hhbGZfZmxvYXQpIHtcclxuXHRcdGNvbmZpZ3MucHVzaChcclxuXHRcdFx0Ly8gQXJyYXkgdHlwZSBzaG91bGQgYmUgVWludDE2QXJyYXksIGJ1dCBhdCBsZWFzdCBvbiBpT1MgdGhhdCBicmVha3MuIEluIHRoYXQgY2FzZSB3ZVxyXG5cdFx0XHQvLyBqdXN0IGluaXRpYWxpemUgdGhlIHRleHR1cmVzIHdpdGggZGF0YT1udWxsLCBpbnN0ZWFkIG9mIGRhdGE9bmV3IFVpbnQxNkFycmF5KC4uLikuXHJcblx0XHRcdC8vIFRoaXMgbWFrZXMgaW5pdGlhbGl6YXRpb24gYSB0YWQgc2xvd2VyLCBidXQgaXQncyBzdGlsbCBuZWdsaWdpYmxlLlxyXG5cdFx0XHRjcmVhdGVDb25maWcoJ2hhbGZfZmxvYXQnLCBleHRlbnNpb25zLk9FU190ZXh0dXJlX2hhbGZfZmxvYXQuSEFMRl9GTE9BVF9PRVMsIG51bGwpXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0Ly8gU2V0dXAgdGhlIHRleHR1cmUgYW5kIGZyYW1lYnVmZmVyXHJcblx0dmFyIHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XHJcblx0dmFyIGZyYW1lYnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcclxuXHJcblx0Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZWJ1ZmZlcik7XHJcblx0Z2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XHJcblx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLk5FQVJFU1QpO1xyXG5cdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5ORUFSRVNUKTtcclxuXHRnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcclxuXHRnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcclxuXHJcblx0Ly8gQ2hlY2sgZm9yIGVhY2ggc3VwcG9ydGVkIHRleHR1cmUgdHlwZSBpZiByZW5kZXJpbmcgdG8gaXQgaXMgc3VwcG9ydGVkXHJcblx0dmFyIGNvbmZpZyA9IG51bGw7XHJcblxyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgY29uZmlncy5sZW5ndGg7IGkrKykge1xyXG5cdFx0Z2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCAzMiwgMzIsIDAsIGdsLlJHQkEsIGNvbmZpZ3NbaV0udHlwZSwgbnVsbCk7XHJcblxyXG5cdFx0Z2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCB0ZXh0dXJlLCAwKTtcclxuXHRcdGlmIChnbC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKGdsLkZSQU1FQlVGRkVSKSA9PT0gZ2wuRlJBTUVCVUZGRVJfQ09NUExFVEUpIHtcclxuXHRcdFx0Y29uZmlnID0gY29uZmlnc1tpXTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gY29uZmlnO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVJbWFnZURhdGEod2lkdGgsIGhlaWdodCkge1xyXG5cdHRyeSB7XHJcblx0XHRyZXR1cm4gbmV3IEltYWdlRGF0YSh3aWR0aCwgaGVpZ2h0KTtcclxuXHR9XHJcblx0Y2F0Y2ggKGUpIHtcclxuXHRcdC8vIEZhbGxiYWNrIGZvciBJRVxyXG5cdFx0dmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG5cdFx0cmV0dXJuIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLmNyZWF0ZUltYWdlRGF0YSh3aWR0aCwgaGVpZ2h0KTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRyYW5zbGF0ZUJhY2tncm91bmRQb3NpdGlvbih2YWx1ZSkge1xyXG5cdHZhciBwYXJ0cyA9IHZhbHVlLnNwbGl0KCcgJyk7XHJcblxyXG5cdGlmIChwYXJ0cy5sZW5ndGggPT09IDEpIHtcclxuXHRcdHN3aXRjaCAodmFsdWUpIHtcclxuXHRcdFx0Y2FzZSAnY2VudGVyJzpcclxuXHRcdFx0XHRyZXR1cm4gWyc1MCUnLCAnNTAlJ107XHJcblx0XHRcdGNhc2UgJ3RvcCc6XHJcblx0XHRcdFx0cmV0dXJuIFsnNTAlJywgJzAnXTtcclxuXHRcdFx0Y2FzZSAnYm90dG9tJzpcclxuXHRcdFx0XHRyZXR1cm4gWyc1MCUnLCAnMTAwJSddO1xyXG5cdFx0XHRjYXNlICdsZWZ0JzpcclxuXHRcdFx0XHRyZXR1cm4gWycwJywgJzUwJSddO1xyXG5cdFx0XHRjYXNlICdyaWdodCc6XHJcblx0XHRcdFx0cmV0dXJuIFsnMTAwJScsICc1MCUnXTtcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRyZXR1cm4gW3ZhbHVlLCAnNTAlJ107XHJcblx0XHR9XHJcblx0fVxyXG5cdGVsc2Uge1xyXG5cdFx0cmV0dXJuIHBhcnRzLm1hcChmdW5jdGlvbihwYXJ0KSB7XHJcblx0XHRcdHN3aXRjaCAodmFsdWUpIHtcclxuXHRcdFx0XHRjYXNlICdjZW50ZXInOlxyXG5cdFx0XHRcdFx0cmV0dXJuICc1MCUnO1xyXG5cdFx0XHRcdGNhc2UgJ3RvcCc6XHJcblx0XHRcdFx0Y2FzZSAnbGVmdCc6XHJcblx0XHRcdFx0XHRyZXR1cm4gJzAnO1xyXG5cdFx0XHRcdGNhc2UgJ3JpZ2h0JzpcclxuXHRcdFx0XHRjYXNlICdib3R0b20nOlxyXG5cdFx0XHRcdFx0cmV0dXJuICcxMDAlJztcclxuXHRcdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdFx0cmV0dXJuIHBhcnQ7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbSh2ZXJ0ZXhTb3VyY2UsIGZyYWdtZW50U291cmNlLCB1bmlmb3JtVmFsdWVzKSB7XHJcblx0ZnVuY3Rpb24gY29tcGlsZVNvdXJjZSh0eXBlLCBzb3VyY2UpIHtcclxuXHRcdHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XHJcblx0XHRnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpO1xyXG5cdFx0Z2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xyXG5cdFx0aWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdjb21waWxlIGVycm9yOiAnICsgZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBzaGFkZXI7XHJcblx0fVxyXG5cclxuXHR2YXIgcHJvZ3JhbSA9IHt9O1xyXG5cclxuXHRwcm9ncmFtLmlkID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xyXG5cdGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLmlkLCBjb21waWxlU291cmNlKGdsLlZFUlRFWF9TSEFERVIsIHZlcnRleFNvdXJjZSkpO1xyXG5cdGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLmlkLCBjb21waWxlU291cmNlKGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTb3VyY2UpKTtcclxuXHRnbC5saW5rUHJvZ3JhbShwcm9ncmFtLmlkKTtcclxuXHRpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbS5pZCwgZ2wuTElOS19TVEFUVVMpKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2xpbmsgZXJyb3I6ICcgKyBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtLmlkKSk7XHJcblx0fVxyXG5cclxuXHQvLyBGZXRjaCB0aGUgdW5pZm9ybSBhbmQgYXR0cmlidXRlIGxvY2F0aW9uc1xyXG5cdHByb2dyYW0udW5pZm9ybXMgPSB7fTtcclxuXHRwcm9ncmFtLmxvY2F0aW9ucyA9IHt9O1xyXG5cdGdsLnVzZVByb2dyYW0ocHJvZ3JhbS5pZCk7XHJcblx0Z2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoMCk7XHJcblx0dmFyIG1hdGNoLCBuYW1lLCByZWdleCA9IC91bmlmb3JtIChcXHcrKSAoXFx3KykvZywgc2hhZGVyQ29kZSA9IHZlcnRleFNvdXJjZSArIGZyYWdtZW50U291cmNlO1xyXG5cdHdoaWxlICgobWF0Y2ggPSByZWdleC5leGVjKHNoYWRlckNvZGUpKSAhPSBudWxsKSB7XHJcblx0XHRuYW1lID0gbWF0Y2hbMl07XHJcblx0XHRwcm9ncmFtLmxvY2F0aW9uc1tuYW1lXSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLmlkLCBuYW1lKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBwcm9ncmFtO1xyXG59XHJcblxyXG5mdW5jdGlvbiBiaW5kVGV4dHVyZSh0ZXh0dXJlLCB1bml0KSB7XHJcblx0Z2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArICh1bml0IHx8IDApKTtcclxuXHRnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZXh0cmFjdFVybCh2YWx1ZSkge1xyXG5cdHZhciB1cmxNYXRjaCA9IC91cmxcXChbXCInXT8oW15cIiddKilbXCInXT9cXCkvLmV4ZWModmFsdWUpO1xyXG5cdGlmICh1cmxNYXRjaCA9PSBudWxsKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdHJldHVybiB1cmxNYXRjaFsxXTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNEYXRhVXJpKHVybCkge1xyXG5cdHJldHVybiB1cmwubWF0Y2goL15kYXRhOi8pO1xyXG59XHJcblxyXG52YXIgY29uZmlnID0gbG9hZENvbmZpZygpO1xyXG52YXIgdHJhbnNwYXJlbnRQaXhlbHMgPSBjcmVhdGVJbWFnZURhdGEoMzIsIDMyKTtcclxuXHJcbi8vIEV4dGVuZCB0aGUgY3NzXHJcbiQoJ2hlYWQnKS5wcmVwZW5kKCc8c3R5bGU+LmpxdWVyeS1yaXBwbGVzIHsgcG9zaXRpb246IHJlbGF0aXZlOyB6LWluZGV4OiAwOyB9PC9zdHlsZT4nKTtcclxuXHJcbi8vIFJJUFBMRVMgQ0xBU1MgREVGSU5JVElPTlxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG52YXIgUmlwcGxlcyA9IGZ1bmN0aW9uIChlbCwgb3B0aW9ucykge1xyXG5cdHZhciB0aGF0ID0gdGhpcztcclxuXHJcblx0dGhpcy4kZWwgPSAkKGVsKTtcclxuXHJcblx0Ly8gSW5pdCBwcm9wZXJ0aWVzIGZyb20gb3B0aW9uc1xyXG5cdHRoaXMuaW50ZXJhY3RpdmUgPSBvcHRpb25zLmludGVyYWN0aXZlO1xyXG5cdHRoaXMucmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbjtcclxuXHR0aGlzLnRleHR1cmVEZWx0YSA9IG5ldyBGbG9hdDMyQXJyYXkoWzEgLyB0aGlzLnJlc29sdXRpb24sIDEgLyB0aGlzLnJlc29sdXRpb25dKTtcclxuXHJcblx0dGhpcy5wZXJ0dXJiYW5jZSA9IG9wdGlvbnMucGVydHVyYmFuY2U7XHJcblx0dGhpcy5kcm9wUmFkaXVzID0gb3B0aW9ucy5kcm9wUmFkaXVzO1xyXG5cclxuXHR0aGlzLmNyb3NzT3JpZ2luID0gb3B0aW9ucy5jcm9zc09yaWdpbjtcclxuXHR0aGlzLmltYWdlVXJsID0gb3B0aW9ucy5pbWFnZVVybDtcclxuXHJcblx0Ly8gSW5pdCBXZWJHTCBjYW52YXNcclxuXHR2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcblx0Y2FudmFzLndpZHRoID0gdGhpcy4kZWwuaW5uZXJXaWR0aCgpO1xyXG5cdGNhbnZhcy5oZWlnaHQgPSB0aGlzLiRlbC5pbm5lckhlaWdodCgpO1xyXG5cdHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG5cdHRoaXMuJGNhbnZhcyA9ICQoY2FudmFzKTtcclxuXHR0aGlzLiRjYW52YXMuY3NzKHtcclxuXHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG5cdFx0bGVmdDogMCxcclxuXHRcdHRvcDogMCxcclxuXHRcdHJpZ2h0OiAwLFxyXG5cdFx0Ym90dG9tOiAwLFxyXG5cdFx0ekluZGV4OiAtMVxyXG5cdH0pO1xyXG5cclxuXHR0aGlzLiRlbC5hZGRDbGFzcygnanF1ZXJ5LXJpcHBsZXMnKS5hcHBlbmQoY2FudmFzKTtcclxuXHR0aGlzLmNvbnRleHQgPSBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcpIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnKTtcclxuXHJcblx0Ly8gTG9hZCBleHRlbnNpb25zXHJcblx0Y29uZmlnLmV4dGVuc2lvbnMuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XHJcblx0XHRnbC5nZXRFeHRlbnNpb24obmFtZSk7XHJcblx0fSk7XHJcblxyXG5cdC8vIEF1dG8tcmVzaXplIHdoZW4gd2luZG93IHNpemUgY2hhbmdlcy5cclxuXHR0aGlzLnVwZGF0ZVNpemUgPSB0aGlzLnVwZGF0ZVNpemUuYmluZCh0aGlzKTtcclxuXHQkKHdpbmRvdykub24oJ3Jlc2l6ZScsIHRoaXMudXBkYXRlU2l6ZSk7XHJcblxyXG5cdC8vIEluaXQgcmVuZGVydGFyZ2V0cyBmb3IgcmlwcGxlIGRhdGEuXHJcblx0dGhpcy50ZXh0dXJlcyA9IFtdO1xyXG5cdHRoaXMuZnJhbWVidWZmZXJzID0gW107XHJcblx0dGhpcy5idWZmZXJXcml0ZUluZGV4ID0gMDtcclxuXHR0aGlzLmJ1ZmZlclJlYWRJbmRleCA9IDE7XHJcblxyXG5cdHZhciBhcnJheVR5cGUgPSBjb25maWcuYXJyYXlUeXBlO1xyXG5cdHZhciB0ZXh0dXJlRGF0YSA9IGFycmF5VHlwZSA/IG5ldyBhcnJheVR5cGUodGhpcy5yZXNvbHV0aW9uICogdGhpcy5yZXNvbHV0aW9uICogNCkgOiBudWxsO1xyXG5cclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IDI7IGkrKykge1xyXG5cdFx0dmFyIHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XHJcblx0XHR2YXIgZnJhbWVidWZmZXIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xyXG5cclxuXHRcdGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVidWZmZXIpO1xyXG5cclxuXHRcdGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xyXG5cdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGNvbmZpZy5saW5lYXJTdXBwb3J0ID8gZ2wuTElORUFSIDogZ2wuTkVBUkVTVCk7XHJcblx0XHRnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgY29uZmlnLmxpbmVhclN1cHBvcnQgPyBnbC5MSU5FQVIgOiBnbC5ORUFSRVNUKTtcclxuXHRcdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLkNMQU1QX1RPX0VER0UpO1xyXG5cdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XHJcblx0XHRnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIHRoaXMucmVzb2x1dGlvbiwgdGhpcy5yZXNvbHV0aW9uLCAwLCBnbC5SR0JBLCBjb25maWcudHlwZSwgdGV4dHVyZURhdGEpO1xyXG5cclxuXHRcdGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSwgMCk7XHJcblxyXG5cdFx0dGhpcy50ZXh0dXJlcy5wdXNoKHRleHR1cmUpO1xyXG5cdFx0dGhpcy5mcmFtZWJ1ZmZlcnMucHVzaChmcmFtZWJ1ZmZlcik7XHJcblx0fVxyXG5cclxuXHQvLyBJbml0IEdMIHN0dWZmXHJcblx0dGhpcy5xdWFkID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcblx0Z2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMucXVhZCk7XHJcblx0Z2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoW1xyXG5cdFx0LTEsIC0xLFxyXG5cdFx0KzEsIC0xLFxyXG5cdFx0KzEsICsxLFxyXG5cdFx0LTEsICsxXHJcblx0XSksIGdsLlNUQVRJQ19EUkFXKTtcclxuXHJcblx0dGhpcy5pbml0U2hhZGVycygpO1xyXG5cdHRoaXMuaW5pdFRleHR1cmUoKTtcclxuXHR0aGlzLnNldFRyYW5zcGFyZW50VGV4dHVyZSgpO1xyXG5cclxuXHQvLyBMb2FkIHRoZSBpbWFnZSBlaXRoZXIgZnJvbSB0aGUgb3B0aW9ucyBvciBDU1MgcnVsZXNcclxuXHR0aGlzLmxvYWRJbWFnZSgpO1xyXG5cclxuXHQvLyBTZXQgY29ycmVjdCBjbGVhciBjb2xvciBhbmQgYmxlbmQgbW9kZSAocmVndWxhciBhbHBoYSBibGVuZGluZylcclxuXHRnbC5jbGVhckNvbG9yKDAsIDAsIDAsIDApO1xyXG5cdGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xyXG5cclxuXHQvLyBQbHVnaW4gaXMgc3VjY2Vzc2Z1bGx5IGluaXRpYWxpemVkIVxyXG5cdHRoaXMudmlzaWJsZSA9IHRydWU7XHJcblx0dGhpcy5ydW5uaW5nID0gdHJ1ZTtcclxuXHR0aGlzLmluaXRlZCA9IHRydWU7XHJcblx0dGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcclxuXHJcblx0dGhpcy5zZXR1cFBvaW50ZXJFdmVudHMoKTtcclxuXHJcblx0Ly8gSW5pdCBhbmltYXRpb25cclxuXHRmdW5jdGlvbiBzdGVwKCkge1xyXG5cdFx0aWYgKCF0aGF0LmRlc3Ryb3llZCkge1xyXG5cdFx0XHR0aGF0LnN0ZXAoKTtcclxuXHJcblx0XHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcclxufTtcclxuXHJcblJpcHBsZXMuREVGQVVMVFMgPSB7XHJcblx0aW1hZ2VVcmw6IG51bGwsXHJcblx0cmVzb2x1dGlvbjogMjU2LFxyXG5cdGRyb3BSYWRpdXM6IDIwLFxyXG5cdHBlcnR1cmJhbmNlOiAwLjAzLFxyXG5cdGludGVyYWN0aXZlOiB0cnVlLFxyXG5cdGNyb3NzT3JpZ2luOiAnJ1xyXG59O1xyXG5cclxuUmlwcGxlcy5wcm90b3R5cGUgPSB7XHJcblxyXG5cdC8vIFNldCB1cCBwb2ludGVyIChtb3VzZSArIHRvdWNoKSBldmVudHNcclxuXHRzZXR1cFBvaW50ZXJFdmVudHM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHBvaW50ZXJFdmVudHNFbmFibGVkKCkge1xyXG5cdFx0XHRyZXR1cm4gdGhhdC52aXNpYmxlICYmIHRoYXQucnVubmluZyAmJiB0aGF0LmludGVyYWN0aXZlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGRyb3BBdFBvaW50ZXIocG9pbnRlciwgYmlnKSB7XHJcblx0XHRcdGlmIChwb2ludGVyRXZlbnRzRW5hYmxlZCgpKSB7XHJcblx0XHRcdFx0dGhhdC5kcm9wQXRQb2ludGVyKFxyXG5cdFx0XHRcdFx0cG9pbnRlcixcclxuXHRcdFx0XHRcdHRoYXQuZHJvcFJhZGl1cyAqIChiaWcgPyAxLjUgOiAxKSxcclxuXHRcdFx0XHRcdChiaWcgPyAwLjE0IDogMC4wMSlcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU3RhcnQgbGlzdGVuaW5nIHRvIHBvaW50ZXIgZXZlbnRzXHJcblx0XHR0aGlzLiRlbFxyXG5cclxuXHRcdFx0Ly8gQ3JlYXRlIHJlZ3VsYXIsIHNtYWxsIHJpcHBsZXMgZm9yIG1vdXNlIG1vdmUgYW5kIHRvdWNoIGV2ZW50cy4uLlxyXG5cdFx0XHQub24oJ21vdXNlbW92ZS5yaXBwbGVzJywgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdGRyb3BBdFBvaW50ZXIoZSk7XHJcblx0XHRcdH0pXHJcblx0XHRcdC5vbigndG91Y2htb3ZlLnJpcHBsZXMgdG91Y2hzdGFydC5yaXBwbGVzJywgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdHZhciB0b3VjaGVzID0gZS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzO1xyXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdG91Y2hlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0ZHJvcEF0UG9pbnRlcih0b3VjaGVzW2ldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblxyXG5cdFx0XHQvLyAuLi5hbmQgb25seSBhIGJpZyByaXBwbGUgb24gbW91c2UgZG93biBldmVudHMuXHJcblx0XHRcdC5vbignbW91c2Vkb3duLnJpcHBsZXMnLCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0ZHJvcEF0UG9pbnRlcihlLCB0cnVlKTtcclxuXHRcdFx0fSk7XHJcblx0fSxcclxuXHJcblx0Ly8gTG9hZCB0aGUgaW1hZ2UgZWl0aGVyIGZyb20gdGhlIG9wdGlvbnMgb3IgdGhlIGVsZW1lbnQncyBDU1MgcnVsZXMuXHJcblx0bG9hZEltYWdlOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciB0aGF0ID0gdGhpcztcclxuXHJcblx0XHRnbCA9IHRoaXMuY29udGV4dDtcclxuXHJcblx0XHR2YXIgbmV3SW1hZ2VTb3VyY2UgPSB0aGlzLmltYWdlVXJsIHx8XHJcblx0XHRcdGV4dHJhY3RVcmwodGhpcy5vcmlnaW5hbENzc0JhY2tncm91bmRJbWFnZSkgfHxcclxuXHRcdFx0ZXh0cmFjdFVybCh0aGlzLiRlbC5jc3MoJ2JhY2tncm91bmRJbWFnZScpKTtcclxuXHJcblx0XHQvLyBJZiBpbWFnZSBzb3VyY2UgaXMgdW5jaGFuZ2VkLCBkb24ndCByZWxvYWQgaXQuXHJcblx0XHRpZiAobmV3SW1hZ2VTb3VyY2UgPT0gdGhpcy5pbWFnZVNvdXJjZSkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5pbWFnZVNvdXJjZSA9IG5ld0ltYWdlU291cmNlO1xyXG5cclxuXHRcdC8vIEZhbHN5IHNvdXJjZSBtZWFucyBubyBiYWNrZ3JvdW5kLlxyXG5cdFx0aWYgKCF0aGlzLmltYWdlU291cmNlKSB7XHJcblx0XHRcdHRoaXMuc2V0VHJhbnNwYXJlbnRUZXh0dXJlKCk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBMb2FkIHRoZSB0ZXh0dXJlIGZyb20gYSBuZXcgaW1hZ2UuXHJcblx0XHR2YXIgaW1hZ2UgPSBuZXcgSW1hZ2U7XHJcblx0XHRpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0Z2wgPSB0aGF0LmNvbnRleHQ7XHJcblxyXG5cdFx0XHQvLyBPbmx5IHRleHR1cmVzIHdpdGggZGltZW5zaW9ucyBvZiBwb3dlcnMgb2YgdHdvIGNhbiBoYXZlIHJlcGVhdCB3cmFwcGluZy5cclxuXHRcdFx0ZnVuY3Rpb24gaXNQb3dlck9mVHdvKHgpIHtcclxuXHRcdFx0XHRyZXR1cm4gKHggJiAoeCAtIDEpKSA9PSAwO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgd3JhcHBpbmcgPSAoaXNQb3dlck9mVHdvKGltYWdlLndpZHRoKSAmJiBpc1Bvd2VyT2ZUd28oaW1hZ2UuaGVpZ2h0KSkgPyBnbC5SRVBFQVQgOiBnbC5DTEFNUF9UT19FREdFO1xyXG5cclxuXHRcdFx0Z2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhhdC5iYWNrZ3JvdW5kVGV4dHVyZSk7XHJcblx0XHRcdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIHdyYXBwaW5nKTtcclxuXHRcdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgd3JhcHBpbmcpO1xyXG5cdFx0XHRnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGltYWdlKTtcclxuXHJcblx0XHRcdHRoYXQuYmFja2dyb3VuZFdpZHRoID0gaW1hZ2Uud2lkdGg7XHJcblx0XHRcdHRoYXQuYmFja2dyb3VuZEhlaWdodCA9IGltYWdlLmhlaWdodDtcclxuXHJcblx0XHRcdC8vIEhpZGUgdGhlIGJhY2tncm91bmQgdGhhdCB3ZSdyZSByZXBsYWNpbmcuXHJcblx0XHRcdHRoYXQuaGlkZUNzc0JhY2tncm91bmQoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gRmFsbCBiYWNrIHRvIGEgdHJhbnNwYXJlbnQgdGV4dHVyZSB3aGVuIGxvYWRpbmcgdGhlIGltYWdlIGZhaWxlZC5cclxuXHRcdGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0Z2wgPSB0aGF0LmNvbnRleHQ7XHJcblxyXG5cdFx0XHR0aGF0LnNldFRyYW5zcGFyZW50VGV4dHVyZSgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBEaXNhYmxlIENPUlMgd2hlbiB0aGUgaW1hZ2Ugc291cmNlIGlzIGEgZGF0YSBVUkkuXHJcblx0XHRpbWFnZS5jcm9zc09yaWdpbiA9IGlzRGF0YVVyaSh0aGlzLmltYWdlU291cmNlKSA/IG51bGwgOiB0aGlzLmNyb3NzT3JpZ2luO1xyXG5cclxuXHRcdGltYWdlLnNyYyA9IHRoaXMuaW1hZ2VTb3VyY2U7XHJcblx0fSxcclxuXHJcblx0c3RlcDogZnVuY3Rpb24oKSB7XHJcblx0XHRnbCA9IHRoaXMuY29udGV4dDtcclxuXHJcblx0XHRpZiAoIXRoaXMudmlzaWJsZSkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5jb21wdXRlVGV4dHVyZUJvdW5kYXJpZXMoKTtcclxuXHJcblx0XHRpZiAodGhpcy5ydW5uaW5nKSB7XHJcblx0XHRcdHRoaXMudXBkYXRlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5yZW5kZXIoKTtcclxuXHR9LFxyXG5cclxuXHRkcmF3UXVhZDogZnVuY3Rpb24oKSB7XHJcblx0XHRnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5xdWFkKTtcclxuXHRcdGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoMCwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuXHRcdGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfRkFOLCAwLCA0KTtcclxuXHR9LFxyXG5cclxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcclxuXHJcblx0XHRnbC52aWV3cG9ydCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuXHJcblx0XHRnbC5lbmFibGUoZ2wuQkxFTkQpO1xyXG5cdFx0Z2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IGdsLkRFUFRIX0JVRkZFUl9CSVQpO1xyXG5cclxuXHRcdGdsLnVzZVByb2dyYW0odGhpcy5yZW5kZXJQcm9ncmFtLmlkKTtcclxuXHJcblx0XHRiaW5kVGV4dHVyZSh0aGlzLmJhY2tncm91bmRUZXh0dXJlLCAwKTtcclxuXHRcdGJpbmRUZXh0dXJlKHRoaXMudGV4dHVyZXNbMF0sIDEpO1xyXG5cclxuXHRcdGdsLnVuaWZvcm0xZih0aGlzLnJlbmRlclByb2dyYW0ubG9jYXRpb25zLnBlcnR1cmJhbmNlLCB0aGlzLnBlcnR1cmJhbmNlKTtcclxuXHRcdGdsLnVuaWZvcm0yZnYodGhpcy5yZW5kZXJQcm9ncmFtLmxvY2F0aW9ucy50b3BMZWZ0LCB0aGlzLnJlbmRlclByb2dyYW0udW5pZm9ybXMudG9wTGVmdCk7XHJcblx0XHRnbC51bmlmb3JtMmZ2KHRoaXMucmVuZGVyUHJvZ3JhbS5sb2NhdGlvbnMuYm90dG9tUmlnaHQsIHRoaXMucmVuZGVyUHJvZ3JhbS51bmlmb3Jtcy5ib3R0b21SaWdodCk7XHJcblx0XHRnbC51bmlmb3JtMmZ2KHRoaXMucmVuZGVyUHJvZ3JhbS5sb2NhdGlvbnMuY29udGFpbmVyUmF0aW8sIHRoaXMucmVuZGVyUHJvZ3JhbS51bmlmb3Jtcy5jb250YWluZXJSYXRpbyk7XHJcblx0XHRnbC51bmlmb3JtMWkodGhpcy5yZW5kZXJQcm9ncmFtLmxvY2F0aW9ucy5zYW1wbGVyQmFja2dyb3VuZCwgMCk7XHJcblx0XHRnbC51bmlmb3JtMWkodGhpcy5yZW5kZXJQcm9ncmFtLmxvY2F0aW9ucy5zYW1wbGVyUmlwcGxlcywgMSk7XHJcblxyXG5cdFx0dGhpcy5kcmF3UXVhZCgpO1xyXG5cdFx0Z2wuZGlzYWJsZShnbC5CTEVORCk7XHJcblx0fSxcclxuXHJcblx0dXBkYXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdGdsLnZpZXdwb3J0KDAsIDAsIHRoaXMucmVzb2x1dGlvbiwgdGhpcy5yZXNvbHV0aW9uKTtcclxuXHJcblx0XHRnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRoaXMuZnJhbWVidWZmZXJzW3RoaXMuYnVmZmVyV3JpdGVJbmRleF0pO1xyXG5cdFx0YmluZFRleHR1cmUodGhpcy50ZXh0dXJlc1t0aGlzLmJ1ZmZlclJlYWRJbmRleF0pO1xyXG5cdFx0Z2wudXNlUHJvZ3JhbSh0aGlzLnVwZGF0ZVByb2dyYW0uaWQpO1xyXG5cclxuXHRcdHRoaXMuZHJhd1F1YWQoKTtcclxuXHJcblx0XHR0aGlzLnN3YXBCdWZmZXJJbmRpY2VzKCk7XHJcblx0fSxcclxuXHJcblx0c3dhcEJ1ZmZlckluZGljZXM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5idWZmZXJXcml0ZUluZGV4ID0gMSAtIHRoaXMuYnVmZmVyV3JpdGVJbmRleDtcclxuXHRcdHRoaXMuYnVmZmVyUmVhZEluZGV4ID0gMSAtIHRoaXMuYnVmZmVyUmVhZEluZGV4O1xyXG5cdH0sXHJcblxyXG5cdGNvbXB1dGVUZXh0dXJlQm91bmRhcmllczogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgYmFja2dyb3VuZFNpemUgPSB0aGlzLiRlbC5jc3MoJ2JhY2tncm91bmQtc2l6ZScpO1xyXG5cdFx0dmFyIGJhY2tncm91bmRBdHRhY2htZW50ID0gdGhpcy4kZWwuY3NzKCdiYWNrZ3JvdW5kLWF0dGFjaG1lbnQnKTtcclxuXHRcdHZhciBiYWNrZ3JvdW5kUG9zaXRpb24gPSB0cmFuc2xhdGVCYWNrZ3JvdW5kUG9zaXRpb24odGhpcy4kZWwuY3NzKCdiYWNrZ3JvdW5kLXBvc2l0aW9uJykpO1xyXG5cclxuXHRcdC8vIEhlcmUgdGhlICdjb250YWluZXInIGlzIHRoZSBlbGVtZW50IHdoaWNoIHRoZSBiYWNrZ3JvdW5kIGFkYXB0cyB0b1xyXG5cdFx0Ly8gKGVpdGhlciB0aGUgY2hyb21lIHdpbmRvdyBvciBzb21lIGVsZW1lbnQsIGRlcGVuZGluZyBvbiBhdHRhY2htZW50KVxyXG5cdFx0dmFyIGNvbnRhaW5lcjtcclxuXHRcdGlmIChiYWNrZ3JvdW5kQXR0YWNobWVudCA9PSAnZml4ZWQnKSB7XHJcblx0XHRcdGNvbnRhaW5lciA9IHsgbGVmdDogd2luZG93LnBhZ2VYT2Zmc2V0LCB0b3A6IHdpbmRvdy5wYWdlWU9mZnNldCB9O1xyXG5cdFx0XHRjb250YWluZXIud2lkdGggPSAkd2luZG93LndpZHRoKCk7XHJcblx0XHRcdGNvbnRhaW5lci5oZWlnaHQgPSAkd2luZG93LmhlaWdodCgpO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdGNvbnRhaW5lciA9IHRoaXMuJGVsLm9mZnNldCgpO1xyXG5cdFx0XHRjb250YWluZXIud2lkdGggPSB0aGlzLiRlbC5pbm5lcldpZHRoKCk7XHJcblx0XHRcdGNvbnRhaW5lci5oZWlnaHQgPSB0aGlzLiRlbC5pbm5lckhlaWdodCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFRPRE86IGJhY2tncm91bmQtY2xpcFxyXG5cdFx0aWYgKGJhY2tncm91bmRTaXplID09ICdjb3ZlcicpIHtcclxuXHRcdFx0dmFyIHNjYWxlID0gTWF0aC5tYXgoY29udGFpbmVyLndpZHRoIC8gdGhpcy5iYWNrZ3JvdW5kV2lkdGgsIGNvbnRhaW5lci5oZWlnaHQgLyB0aGlzLmJhY2tncm91bmRIZWlnaHQpO1xyXG5cclxuXHRcdFx0dmFyIGJhY2tncm91bmRXaWR0aCA9IHRoaXMuYmFja2dyb3VuZFdpZHRoICogc2NhbGU7XHJcblx0XHRcdHZhciBiYWNrZ3JvdW5kSGVpZ2h0ID0gdGhpcy5iYWNrZ3JvdW5kSGVpZ2h0ICogc2NhbGU7XHJcblx0XHR9XHJcblx0XHRlbHNlIGlmIChiYWNrZ3JvdW5kU2l6ZSA9PSAnY29udGFpbicpIHtcclxuXHRcdFx0dmFyIHNjYWxlID0gTWF0aC5taW4oY29udGFpbmVyLndpZHRoIC8gdGhpcy5iYWNrZ3JvdW5kV2lkdGgsIGNvbnRhaW5lci5oZWlnaHQgLyB0aGlzLmJhY2tncm91bmRIZWlnaHQpO1xyXG5cclxuXHRcdFx0dmFyIGJhY2tncm91bmRXaWR0aCA9IHRoaXMuYmFja2dyb3VuZFdpZHRoICogc2NhbGU7XHJcblx0XHRcdHZhciBiYWNrZ3JvdW5kSGVpZ2h0ID0gdGhpcy5iYWNrZ3JvdW5kSGVpZ2h0ICogc2NhbGU7XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0YmFja2dyb3VuZFNpemUgPSBiYWNrZ3JvdW5kU2l6ZS5zcGxpdCgnICcpO1xyXG5cdFx0XHR2YXIgYmFja2dyb3VuZFdpZHRoID0gYmFja2dyb3VuZFNpemVbMF0gfHwgJyc7XHJcblx0XHRcdHZhciBiYWNrZ3JvdW5kSGVpZ2h0ID0gYmFja2dyb3VuZFNpemVbMV0gfHwgYmFja2dyb3VuZFdpZHRoO1xyXG5cclxuXHRcdFx0aWYgKGlzUGVyY2VudGFnZShiYWNrZ3JvdW5kV2lkdGgpKSB7XHJcblx0XHRcdFx0YmFja2dyb3VuZFdpZHRoID0gY29udGFpbmVyLndpZHRoICogcGFyc2VGbG9hdChiYWNrZ3JvdW5kV2lkdGgpIC8gMTAwO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgaWYgKGJhY2tncm91bmRXaWR0aCAhPSAnYXV0bycpIHtcclxuXHRcdFx0XHRiYWNrZ3JvdW5kV2lkdGggPSBwYXJzZUZsb2F0KGJhY2tncm91bmRXaWR0aCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChpc1BlcmNlbnRhZ2UoYmFja2dyb3VuZEhlaWdodCkpIHtcclxuXHRcdFx0XHRiYWNrZ3JvdW5kSGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodCAqIHBhcnNlRmxvYXQoYmFja2dyb3VuZEhlaWdodCkgLyAxMDA7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZiAoYmFja2dyb3VuZEhlaWdodCAhPSAnYXV0bycpIHtcclxuXHRcdFx0XHRiYWNrZ3JvdW5kSGVpZ2h0ID0gcGFyc2VGbG9hdChiYWNrZ3JvdW5kSGVpZ2h0KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGJhY2tncm91bmRXaWR0aCA9PSAnYXV0bycgJiYgYmFja2dyb3VuZEhlaWdodCA9PSAnYXV0bycpIHtcclxuXHRcdFx0XHRiYWNrZ3JvdW5kV2lkdGggPSB0aGlzLmJhY2tncm91bmRXaWR0aDtcclxuXHRcdFx0XHRiYWNrZ3JvdW5kSGVpZ2h0ID0gdGhpcy5iYWNrZ3JvdW5kSGVpZ2h0O1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdGlmIChiYWNrZ3JvdW5kV2lkdGggPT0gJ2F1dG8nKSB7XHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kV2lkdGggPSB0aGlzLmJhY2tncm91bmRXaWR0aCAqIChiYWNrZ3JvdW5kSGVpZ2h0IC8gdGhpcy5iYWNrZ3JvdW5kSGVpZ2h0KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChiYWNrZ3JvdW5kSGVpZ2h0ID09ICdhdXRvJykge1xyXG5cdFx0XHRcdFx0YmFja2dyb3VuZEhlaWdodCA9IHRoaXMuYmFja2dyb3VuZEhlaWdodCAqIChiYWNrZ3JvdW5kV2lkdGggLyB0aGlzLmJhY2tncm91bmRXaWR0aCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ29tcHV0ZSBiYWNrZ3JvdW5kWCBhbmQgYmFja2dyb3VuZFkgaW4gcGFnZSBjb29yZGluYXRlc1xyXG5cdFx0dmFyIGJhY2tncm91bmRYID0gYmFja2dyb3VuZFBvc2l0aW9uWzBdO1xyXG5cdFx0dmFyIGJhY2tncm91bmRZID0gYmFja2dyb3VuZFBvc2l0aW9uWzFdO1xyXG5cclxuXHRcdGlmIChpc1BlcmNlbnRhZ2UoYmFja2dyb3VuZFgpKSB7XHJcblx0XHRcdGJhY2tncm91bmRYID0gY29udGFpbmVyLmxlZnQgKyAoY29udGFpbmVyLndpZHRoIC0gYmFja2dyb3VuZFdpZHRoKSAqIHBhcnNlRmxvYXQoYmFja2dyb3VuZFgpIC8gMTAwO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdGJhY2tncm91bmRYID0gY29udGFpbmVyLmxlZnQgKyBwYXJzZUZsb2F0KGJhY2tncm91bmRYKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaXNQZXJjZW50YWdlKGJhY2tncm91bmRZKSkge1xyXG5cdFx0XHRiYWNrZ3JvdW5kWSA9IGNvbnRhaW5lci50b3AgKyAoY29udGFpbmVyLmhlaWdodCAtIGJhY2tncm91bmRIZWlnaHQpICogcGFyc2VGbG9hdChiYWNrZ3JvdW5kWSkgLyAxMDA7XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0YmFja2dyb3VuZFkgPSBjb250YWluZXIudG9wICsgcGFyc2VGbG9hdChiYWNrZ3JvdW5kWSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGVsZW1lbnRPZmZzZXQgPSB0aGlzLiRlbC5vZmZzZXQoKTtcclxuXHJcblx0XHR0aGlzLnJlbmRlclByb2dyYW0udW5pZm9ybXMudG9wTGVmdCA9IG5ldyBGbG9hdDMyQXJyYXkoW1xyXG5cdFx0XHQoZWxlbWVudE9mZnNldC5sZWZ0IC0gYmFja2dyb3VuZFgpIC8gYmFja2dyb3VuZFdpZHRoLFxyXG5cdFx0XHQoZWxlbWVudE9mZnNldC50b3AgLSBiYWNrZ3JvdW5kWSkgLyBiYWNrZ3JvdW5kSGVpZ2h0XHJcblx0XHRdKTtcclxuXHRcdHRoaXMucmVuZGVyUHJvZ3JhbS51bmlmb3Jtcy5ib3R0b21SaWdodCA9IG5ldyBGbG9hdDMyQXJyYXkoW1xyXG5cdFx0XHR0aGlzLnJlbmRlclByb2dyYW0udW5pZm9ybXMudG9wTGVmdFswXSArIHRoaXMuJGVsLmlubmVyV2lkdGgoKSAvIGJhY2tncm91bmRXaWR0aCxcclxuXHRcdFx0dGhpcy5yZW5kZXJQcm9ncmFtLnVuaWZvcm1zLnRvcExlZnRbMV0gKyB0aGlzLiRlbC5pbm5lckhlaWdodCgpIC8gYmFja2dyb3VuZEhlaWdodFxyXG5cdFx0XSk7XHJcblxyXG5cdFx0dmFyIG1heFNpZGUgPSBNYXRoLm1heCh0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuXHJcblx0XHR0aGlzLnJlbmRlclByb2dyYW0udW5pZm9ybXMuY29udGFpbmVyUmF0aW8gPSBuZXcgRmxvYXQzMkFycmF5KFtcclxuXHRcdFx0dGhpcy5jYW52YXMud2lkdGggLyBtYXhTaWRlLFxyXG5cdFx0XHR0aGlzLmNhbnZhcy5oZWlnaHQgLyBtYXhTaWRlXHJcblx0XHRdKTtcclxuXHR9LFxyXG5cclxuXHRpbml0U2hhZGVyczogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgdmVydGV4U2hhZGVyID0gW1xyXG5cdFx0XHQnYXR0cmlidXRlIHZlYzIgdmVydGV4OycsXHJcblx0XHRcdCd2YXJ5aW5nIHZlYzIgY29vcmQ7JyxcclxuXHRcdFx0J3ZvaWQgbWFpbigpIHsnLFxyXG5cdFx0XHRcdCdjb29yZCA9IHZlcnRleCAqIDAuNSArIDAuNTsnLFxyXG5cdFx0XHRcdCdnbF9Qb3NpdGlvbiA9IHZlYzQodmVydGV4LCAwLjAsIDEuMCk7JyxcclxuXHRcdFx0J30nXHJcblx0XHRdLmpvaW4oJ1xcbicpO1xyXG5cclxuXHRcdHRoaXMuZHJvcFByb2dyYW0gPSBjcmVhdGVQcm9ncmFtKHZlcnRleFNoYWRlciwgW1xyXG5cdFx0XHQncHJlY2lzaW9uIGhpZ2hwIGZsb2F0OycsXHJcblxyXG5cdFx0XHQnY29uc3QgZmxvYXQgUEkgPSAzLjE0MTU5MjY1MzU4OTc5MzsnLFxyXG5cdFx0XHQndW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTsnLFxyXG5cdFx0XHQndW5pZm9ybSB2ZWMyIGNlbnRlcjsnLFxyXG5cdFx0XHQndW5pZm9ybSBmbG9hdCByYWRpdXM7JyxcclxuXHRcdFx0J3VuaWZvcm0gZmxvYXQgc3RyZW5ndGg7JyxcclxuXHJcblx0XHRcdCd2YXJ5aW5nIHZlYzIgY29vcmQ7JyxcclxuXHJcblx0XHRcdCd2b2lkIG1haW4oKSB7JyxcclxuXHRcdFx0XHQndmVjNCBpbmZvID0gdGV4dHVyZTJEKHRleHR1cmUsIGNvb3JkKTsnLFxyXG5cclxuXHRcdFx0XHQnZmxvYXQgZHJvcCA9IG1heCgwLjAsIDEuMCAtIGxlbmd0aChjZW50ZXIgKiAwLjUgKyAwLjUgLSBjb29yZCkgLyByYWRpdXMpOycsXHJcblx0XHRcdFx0J2Ryb3AgPSAwLjUgLSBjb3MoZHJvcCAqIFBJKSAqIDAuNTsnLFxyXG5cclxuXHRcdFx0XHQnaW5mby5yICs9IGRyb3AgKiBzdHJlbmd0aDsnLFxyXG5cclxuXHRcdFx0XHQnZ2xfRnJhZ0NvbG9yID0gaW5mbzsnLFxyXG5cdFx0XHQnfSdcclxuXHRcdF0uam9pbignXFxuJykpO1xyXG5cclxuXHRcdHRoaXMudXBkYXRlUHJvZ3JhbSA9IGNyZWF0ZVByb2dyYW0odmVydGV4U2hhZGVyLCBbXHJcblx0XHRcdCdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7JyxcclxuXHJcblx0XHRcdCd1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlOycsXHJcblx0XHRcdCd1bmlmb3JtIHZlYzIgZGVsdGE7JyxcclxuXHJcblx0XHRcdCd2YXJ5aW5nIHZlYzIgY29vcmQ7JyxcclxuXHJcblx0XHRcdCd2b2lkIG1haW4oKSB7JyxcclxuXHRcdFx0XHQndmVjNCBpbmZvID0gdGV4dHVyZTJEKHRleHR1cmUsIGNvb3JkKTsnLFxyXG5cclxuXHRcdFx0XHQndmVjMiBkeCA9IHZlYzIoZGVsdGEueCwgMC4wKTsnLFxyXG5cdFx0XHRcdCd2ZWMyIGR5ID0gdmVjMigwLjAsIGRlbHRhLnkpOycsXHJcblxyXG5cdFx0XHRcdCdmbG9hdCBhdmVyYWdlID0gKCcsXHJcblx0XHRcdFx0XHQndGV4dHVyZTJEKHRleHR1cmUsIGNvb3JkIC0gZHgpLnIgKycsXHJcblx0XHRcdFx0XHQndGV4dHVyZTJEKHRleHR1cmUsIGNvb3JkIC0gZHkpLnIgKycsXHJcblx0XHRcdFx0XHQndGV4dHVyZTJEKHRleHR1cmUsIGNvb3JkICsgZHgpLnIgKycsXHJcblx0XHRcdFx0XHQndGV4dHVyZTJEKHRleHR1cmUsIGNvb3JkICsgZHkpLnInLFxyXG5cdFx0XHRcdCcpICogMC4yNTsnLFxyXG5cclxuXHRcdFx0XHQnaW5mby5nICs9IChhdmVyYWdlIC0gaW5mby5yKSAqIDIuMDsnLFxyXG5cdFx0XHRcdCdpbmZvLmcgKj0gMC45OTU7JyxcclxuXHRcdFx0XHQnaW5mby5yICs9IGluZm8uZzsnLFxyXG5cclxuXHRcdFx0XHQnZ2xfRnJhZ0NvbG9yID0gaW5mbzsnLFxyXG5cdFx0XHQnfSdcclxuXHRcdF0uam9pbignXFxuJykpO1xyXG5cdFx0Z2wudW5pZm9ybTJmdih0aGlzLnVwZGF0ZVByb2dyYW0ubG9jYXRpb25zLmRlbHRhLCB0aGlzLnRleHR1cmVEZWx0YSk7XHJcblxyXG5cdFx0dGhpcy5yZW5kZXJQcm9ncmFtID0gY3JlYXRlUHJvZ3JhbShbXHJcblx0XHRcdCdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7JyxcclxuXHJcblx0XHRcdCdhdHRyaWJ1dGUgdmVjMiB2ZXJ0ZXg7JyxcclxuXHRcdFx0J3VuaWZvcm0gdmVjMiB0b3BMZWZ0OycsXHJcblx0XHRcdCd1bmlmb3JtIHZlYzIgYm90dG9tUmlnaHQ7JyxcclxuXHRcdFx0J3VuaWZvcm0gdmVjMiBjb250YWluZXJSYXRpbzsnLFxyXG5cdFx0XHQndmFyeWluZyB2ZWMyIHJpcHBsZXNDb29yZDsnLFxyXG5cdFx0XHQndmFyeWluZyB2ZWMyIGJhY2tncm91bmRDb29yZDsnLFxyXG5cdFx0XHQndm9pZCBtYWluKCkgeycsXHJcblx0XHRcdFx0J2JhY2tncm91bmRDb29yZCA9IG1peCh0b3BMZWZ0LCBib3R0b21SaWdodCwgdmVydGV4ICogMC41ICsgMC41KTsnLFxyXG5cdFx0XHRcdCdiYWNrZ3JvdW5kQ29vcmQueSA9IDEuMCAtIGJhY2tncm91bmRDb29yZC55OycsXHJcblx0XHRcdFx0J3JpcHBsZXNDb29yZCA9IHZlYzIodmVydGV4LngsIC12ZXJ0ZXgueSkgKiBjb250YWluZXJSYXRpbyAqIDAuNSArIDAuNTsnLFxyXG5cdFx0XHRcdCdnbF9Qb3NpdGlvbiA9IHZlYzQodmVydGV4LngsIC12ZXJ0ZXgueSwgMC4wLCAxLjApOycsXHJcblx0XHRcdCd9J1xyXG5cdFx0XS5qb2luKCdcXG4nKSwgW1xyXG5cdFx0XHQncHJlY2lzaW9uIGhpZ2hwIGZsb2F0OycsXHJcblxyXG5cdFx0XHQndW5pZm9ybSBzYW1wbGVyMkQgc2FtcGxlckJhY2tncm91bmQ7JyxcclxuXHRcdFx0J3VuaWZvcm0gc2FtcGxlcjJEIHNhbXBsZXJSaXBwbGVzOycsXHJcblx0XHRcdCd1bmlmb3JtIHZlYzIgZGVsdGE7JyxcclxuXHJcblx0XHRcdCd1bmlmb3JtIGZsb2F0IHBlcnR1cmJhbmNlOycsXHJcblx0XHRcdCd2YXJ5aW5nIHZlYzIgcmlwcGxlc0Nvb3JkOycsXHJcblx0XHRcdCd2YXJ5aW5nIHZlYzIgYmFja2dyb3VuZENvb3JkOycsXHJcblxyXG5cdFx0XHQndm9pZCBtYWluKCkgeycsXHJcblx0XHRcdFx0J2Zsb2F0IGhlaWdodCA9IHRleHR1cmUyRChzYW1wbGVyUmlwcGxlcywgcmlwcGxlc0Nvb3JkKS5yOycsXHJcblx0XHRcdFx0J2Zsb2F0IGhlaWdodFggPSB0ZXh0dXJlMkQoc2FtcGxlclJpcHBsZXMsIHZlYzIocmlwcGxlc0Nvb3JkLnggKyBkZWx0YS54LCByaXBwbGVzQ29vcmQueSkpLnI7JyxcclxuXHRcdFx0XHQnZmxvYXQgaGVpZ2h0WSA9IHRleHR1cmUyRChzYW1wbGVyUmlwcGxlcywgdmVjMihyaXBwbGVzQ29vcmQueCwgcmlwcGxlc0Nvb3JkLnkgKyBkZWx0YS55KSkucjsnLFxyXG5cdFx0XHRcdCd2ZWMzIGR4ID0gdmVjMyhkZWx0YS54LCBoZWlnaHRYIC0gaGVpZ2h0LCAwLjApOycsXHJcblx0XHRcdFx0J3ZlYzMgZHkgPSB2ZWMzKDAuMCwgaGVpZ2h0WSAtIGhlaWdodCwgZGVsdGEueSk7JyxcclxuXHRcdFx0XHQndmVjMiBvZmZzZXQgPSAtbm9ybWFsaXplKGNyb3NzKGR5LCBkeCkpLnh6OycsXHJcblx0XHRcdFx0J2Zsb2F0IHNwZWN1bGFyID0gcG93KG1heCgwLjAsIGRvdChvZmZzZXQsIG5vcm1hbGl6ZSh2ZWMyKC0wLjYsIDEuMCkpKSksIDQuMCk7JyxcclxuXHRcdFx0XHQnZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHNhbXBsZXJCYWNrZ3JvdW5kLCBiYWNrZ3JvdW5kQ29vcmQgKyBvZmZzZXQgKiBwZXJ0dXJiYW5jZSkgKyBzcGVjdWxhcjsnLFxyXG5cdFx0XHQnfSdcclxuXHRcdF0uam9pbignXFxuJykpO1xyXG5cdFx0Z2wudW5pZm9ybTJmdih0aGlzLnJlbmRlclByb2dyYW0ubG9jYXRpb25zLmRlbHRhLCB0aGlzLnRleHR1cmVEZWx0YSk7XHJcblx0fSxcclxuXHJcblx0aW5pdFRleHR1cmU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5iYWNrZ3JvdW5kVGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcclxuXHRcdGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuYmFja2dyb3VuZFRleHR1cmUpO1xyXG5cdFx0Z2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgMSk7XHJcblx0XHRnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcclxuXHRcdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xyXG5cdH0sXHJcblxyXG5cdHNldFRyYW5zcGFyZW50VGV4dHVyZTogZnVuY3Rpb24oKSB7XHJcblx0XHRnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLmJhY2tncm91bmRUZXh0dXJlKTtcclxuXHRcdGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgdHJhbnNwYXJlbnRQaXhlbHMpO1xyXG5cdH0sXHJcblxyXG5cdGhpZGVDc3NCYWNrZ3JvdW5kOiBmdW5jdGlvbigpIHtcclxuXHJcblx0XHQvLyBDaGVjayB3aGV0aGVyIHdlJ3JlIGNoYW5naW5nIGlubGluZSBDU1Mgb3Igb3ZlcnJpZGluZyBhIGdsb2JhbCBDU1MgcnVsZS5cclxuXHRcdHZhciBpbmxpbmVDc3MgPSB0aGlzLiRlbFswXS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U7XHJcblxyXG5cdFx0aWYgKGlubGluZUNzcyA9PSAnbm9uZScpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMub3JpZ2luYWxJbmxpbmVDc3MgPSBpbmxpbmVDc3M7XHJcblxyXG5cdFx0dGhpcy5vcmlnaW5hbENzc0JhY2tncm91bmRJbWFnZSA9IHRoaXMuJGVsLmNzcygnYmFja2dyb3VuZEltYWdlJyk7XHJcblx0XHR0aGlzLiRlbC5jc3MoJ2JhY2tncm91bmRJbWFnZScsICdub25lJyk7XHJcblx0fSxcclxuXHJcblx0cmVzdG9yZUNzc0JhY2tncm91bmQ6IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdC8vIFJlc3RvcmUgYmFja2dyb3VuZCBieSBlaXRoZXIgY2hhbmdpbmcgdGhlIGlubGluZSBDU1MgcnVsZSB0byB3aGF0IGl0IHdhcywgb3JcclxuXHRcdC8vIHNpbXBseSByZW1vdmUgdGhlIGlubGluZSBDU1MgcnVsZSBpZiBpdCBuZXZlciB3YXMgaW5saW5lZC5cclxuXHRcdHRoaXMuJGVsLmNzcygnYmFja2dyb3VuZEltYWdlJywgdGhpcy5vcmlnaW5hbElubGluZUNzcyB8fCAnJyk7XHJcblx0fSxcclxuXHJcblx0ZHJvcEF0UG9pbnRlcjogZnVuY3Rpb24ocG9pbnRlciwgcmFkaXVzLCBzdHJlbmd0aCkge1xyXG5cdFx0dmFyIGJvcmRlckxlZnQgPSBwYXJzZUludCh0aGlzLiRlbC5jc3MoJ2JvcmRlci1sZWZ0LXdpZHRoJykpIHx8IDAsXHJcblx0XHRcdFx0Ym9yZGVyVG9wID0gcGFyc2VJbnQodGhpcy4kZWwuY3NzKCdib3JkZXItdG9wLXdpZHRoJykpIHx8IDA7XHJcblxyXG5cdFx0dGhpcy5kcm9wKFxyXG5cdFx0XHRwb2ludGVyLnBhZ2VYIC0gdGhpcy4kZWwub2Zmc2V0KCkubGVmdCAtIGJvcmRlckxlZnQsXHJcblx0XHRcdHBvaW50ZXIucGFnZVkgLSB0aGlzLiRlbC5vZmZzZXQoKS50b3AgLSBib3JkZXJUb3AsXHJcblx0XHRcdHJhZGl1cyxcclxuXHRcdFx0c3RyZW5ndGhcclxuXHRcdCk7XHJcblx0fSxcclxuXHJcblx0LyoqXHJcblx0ICogIFB1YmxpYyBtZXRob2RzXHJcblx0ICovXHJcblx0ZHJvcDogZnVuY3Rpb24oeCwgeSwgcmFkaXVzLCBzdHJlbmd0aCkge1xyXG5cdFx0Z2wgPSB0aGlzLmNvbnRleHQ7XHJcblxyXG5cdFx0dmFyIGVsV2lkdGggPSB0aGlzLiRlbC5pbm5lcldpZHRoKCk7XHJcblx0XHR2YXIgZWxIZWlnaHQgPSB0aGlzLiRlbC5pbm5lckhlaWdodCgpO1xyXG5cdFx0dmFyIGxvbmdlc3RTaWRlID0gTWF0aC5tYXgoZWxXaWR0aCwgZWxIZWlnaHQpO1xyXG5cclxuXHRcdHJhZGl1cyA9IHJhZGl1cyAvIGxvbmdlc3RTaWRlO1xyXG5cclxuXHRcdHZhciBkcm9wUG9zaXRpb24gPSBuZXcgRmxvYXQzMkFycmF5KFtcclxuXHRcdFx0KDIgKiB4IC0gZWxXaWR0aCkgLyBsb25nZXN0U2lkZSxcclxuXHRcdFx0KGVsSGVpZ2h0IC0gMiAqIHkpIC8gbG9uZ2VzdFNpZGVcclxuXHRcdF0pO1xyXG5cclxuXHRcdGdsLnZpZXdwb3J0KDAsIDAsIHRoaXMucmVzb2x1dGlvbiwgdGhpcy5yZXNvbHV0aW9uKTtcclxuXHJcblx0XHRnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRoaXMuZnJhbWVidWZmZXJzW3RoaXMuYnVmZmVyV3JpdGVJbmRleF0pO1xyXG5cdFx0YmluZFRleHR1cmUodGhpcy50ZXh0dXJlc1t0aGlzLmJ1ZmZlclJlYWRJbmRleF0pO1xyXG5cclxuXHRcdGdsLnVzZVByb2dyYW0odGhpcy5kcm9wUHJvZ3JhbS5pZCk7XHJcblx0XHRnbC51bmlmb3JtMmZ2KHRoaXMuZHJvcFByb2dyYW0ubG9jYXRpb25zLmNlbnRlciwgZHJvcFBvc2l0aW9uKTtcclxuXHRcdGdsLnVuaWZvcm0xZih0aGlzLmRyb3BQcm9ncmFtLmxvY2F0aW9ucy5yYWRpdXMsIHJhZGl1cyk7XHJcblx0XHRnbC51bmlmb3JtMWYodGhpcy5kcm9wUHJvZ3JhbS5sb2NhdGlvbnMuc3RyZW5ndGgsIHN0cmVuZ3RoKTtcclxuXHJcblx0XHR0aGlzLmRyYXdRdWFkKCk7XHJcblxyXG5cdFx0dGhpcy5zd2FwQnVmZmVySW5kaWNlcygpO1xyXG5cdH0sXHJcblxyXG5cdHVwZGF0ZVNpemU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIG5ld1dpZHRoID0gdGhpcy4kZWwuaW5uZXJXaWR0aCgpLFxyXG5cdFx0XHRcdG5ld0hlaWdodCA9IHRoaXMuJGVsLmlubmVySGVpZ2h0KCk7XHJcblxyXG5cdFx0aWYgKG5ld1dpZHRoICE9IHRoaXMuY2FudmFzLndpZHRoIHx8IG5ld0hlaWdodCAhPSB0aGlzLmNhbnZhcy5oZWlnaHQpIHtcclxuXHRcdFx0dGhpcy5jYW52YXMud2lkdGggPSBuZXdXaWR0aDtcclxuXHRcdFx0dGhpcy5jYW52YXMuaGVpZ2h0ID0gbmV3SGVpZ2h0O1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy4kZWxcclxuXHRcdFx0Lm9mZignLnJpcHBsZXMnKVxyXG5cdFx0XHQucmVtb3ZlQ2xhc3MoJ2pxdWVyeS1yaXBwbGVzJylcclxuXHRcdFx0LnJlbW92ZURhdGEoJ3JpcHBsZXMnKTtcclxuXHJcblx0XHQvLyBNYWtlIHN1cmUgdGhlIGxhc3QgdXNlZCBjb250ZXh0IGlzIGdhcmJhZ2UtY29sbGVjdGVkXHJcblx0XHRnbCA9IG51bGw7XHJcblxyXG5cdFx0JCh3aW5kb3cpLm9mZigncmVzaXplJywgdGhpcy51cGRhdGVTaXplKTtcclxuXHJcblx0XHR0aGlzLiRjYW52YXMucmVtb3ZlKCk7XHJcblx0XHR0aGlzLnJlc3RvcmVDc3NCYWNrZ3JvdW5kKCk7XHJcblxyXG5cdFx0dGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xyXG5cdH0sXHJcblxyXG5cdHNob3c6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy52aXNpYmxlID0gdHJ1ZTtcclxuXHJcblx0XHR0aGlzLiRjYW52YXMuc2hvdygpO1xyXG5cdFx0dGhpcy5oaWRlQ3NzQmFja2dyb3VuZCgpO1xyXG5cdH0sXHJcblxyXG5cdGhpZGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy52aXNpYmxlID0gZmFsc2U7XHJcblxyXG5cdFx0dGhpcy4kY2FudmFzLmhpZGUoKTtcclxuXHRcdHRoaXMucmVzdG9yZUNzc0JhY2tncm91bmQoKTtcclxuXHR9LFxyXG5cclxuXHRwYXVzZTogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcclxuXHR9LFxyXG5cclxuXHRwbGF5OiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMucnVubmluZyA9IHRydWU7XHJcblx0fSxcclxuXHJcblx0c2V0OiBmdW5jdGlvbihwcm9wZXJ0eSwgdmFsdWUpIHtcclxuXHRcdHN3aXRjaCAocHJvcGVydHkpIHtcclxuXHRcdFx0Y2FzZSAnZHJvcFJhZGl1cyc6XHJcblx0XHRcdGNhc2UgJ3BlcnR1cmJhbmNlJzpcclxuXHRcdFx0Y2FzZSAnaW50ZXJhY3RpdmUnOlxyXG5cdFx0XHRjYXNlICdjcm9zc09yaWdpbic6XHJcblx0XHRcdFx0dGhpc1twcm9wZXJ0eV0gPSB2YWx1ZTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnaW1hZ2VVcmwnOlxyXG5cdFx0XHRcdHRoaXMuaW1hZ2VVcmwgPSB2YWx1ZTtcclxuXHRcdFx0XHR0aGlzLmxvYWRJbWFnZSgpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cdH1cclxufTtcclxuXHJcbi8vIFJJUFBMRVMgUExVR0lOIERFRklOSVRJT05cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbnZhciBvbGQgPSAkLmZuLnJpcHBsZXM7XHJcblxyXG4kLmZuLnJpcHBsZXMgPSBmdW5jdGlvbihvcHRpb24pIHtcclxuXHRpZiAoIWNvbmZpZykge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKCdZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBXZWJHTCwgdGhlIE9FU190ZXh0dXJlX2Zsb2F0IGV4dGVuc2lvbiBvciByZW5kZXJpbmcgdG8gZmxvYXRpbmcgcG9pbnQgdGV4dHVyZXMuJyk7XHJcblx0fVxyXG5cclxuXHR2YXIgYXJncyA9IChhcmd1bWVudHMubGVuZ3RoID4gMSkgPyBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpIDogdW5kZWZpbmVkO1xyXG5cclxuXHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyICR0aGlzID0gJCh0aGlzKSxcclxuXHRcdFx0XHRkYXRhID0gJHRoaXMuZGF0YSgncmlwcGxlcycpLFxyXG5cdFx0XHRcdG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgUmlwcGxlcy5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbik7XHJcblxyXG5cdFx0aWYgKCFkYXRhICYmIHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFkYXRhKSB7XHJcblx0XHRcdCR0aGlzLmRhdGEoJ3JpcHBsZXMnLCAoZGF0YSA9IG5ldyBSaXBwbGVzKHRoaXMsIG9wdGlvbnMpKSk7XHJcblx0XHR9XHJcblx0XHRlbHNlIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFJpcHBsZXMucHJvdG90eXBlW29wdGlvbl0uYXBwbHkoZGF0YSwgYXJncyk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn07XHJcblxyXG4kLmZuLnJpcHBsZXMuQ29uc3RydWN0b3IgPSBSaXBwbGVzO1xyXG5cclxuXHJcbi8vIFJJUFBMRVMgTk8gQ09ORkxJQ1RcclxuLy8gPT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiQuZm4ucmlwcGxlcy5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XHJcblx0JC5mbi5yaXBwbGVzID0gb2xkO1xyXG5cdHJldHVybiB0aGlzO1xyXG59O1xuXG59KSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/jquery.ripples/dist/jquery.ripples.js\n");

/***/ })

};
;